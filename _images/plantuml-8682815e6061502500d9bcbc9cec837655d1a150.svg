<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1812px" preserveAspectRatio="none" style="width:2237px;height:1812px;" version="1.1" viewBox="0 0 2237 1812" width="2237px" zoomAndPan="magnify"><defs><filter height="300%" id="f1dx5opul9wksi" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5bde45c25d2041782af0390440598829]
cluster allsembly.py--><polygon fill="#FFFFFF" filter="url(#f1dx5opul9wksi)" points="352,1168.5,455,1168.5,462,1190.7969,622,1190.7969,622,1661,352,1661,352,1168.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="352" x2="462" y1="1190.7969" y2="1190.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="356" y="1183.4951">allsembly.py</text><!--MD5=[61505cd7f18ccd0cfa67bf5a932b1c69]
cluster rpyc_server.py--><polygon fill="#FFFFFF" filter="url(#f1dx5opul9wksi)" points="650,1117,774,1117,781,1139.2969,1732,1139.2969,1732,1629,650,1629,650,1117" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="650" x2="781" y1="1139.2969" y2="1139.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="118" x="654" y="1131.9951">rpyc_server.py</text><!--MD5=[f85f5139c19c42939c3f4eb2eab59dc0]
cluster argument_graph.py--><polygon fill="#FFFFFF" filter="url(#f1dx5opul9wksi)" points="516,186,675,186,682,208.2969,973,208.2969,973,1033,516,1033,516,186" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="516" x2="682" y1="208.2969" y2="208.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="153" x="520" y="200.9951">argument_graph.py</text><!--MD5=[752e307221841fb2a35b87a9ae7d58b5]
cluster user.py--><polygon fill="#FFFFFF" filter="url(#f1dx5opul9wksi)" points="1756,1447,1822,1447,1829,1469.2969,2220,1469.2969,2220,1785,1756,1785,1756,1447" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1756" x2="1829" y1="1469.2969" y2="1469.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60" x="1760" y="1461.9951">user.py</text><!--MD5=[b3e763bef726cff41edbdc7dd56f3482]
cluster prob_logic.py--><polygon fill="#FFFFFF" filter="url(#f1dx5opul9wksi)" points="997,857,1108,857,1115,879.2969,1239,879.2969,1239,1084,997,1084,997,857" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="997" x2="1115" y1="879.2969" y2="879.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105" x="1001" y="871.9951">prob_logic.py</text><!--MD5=[bb87df7050dfb4a224a269a405ef2357]
cluster speech_act.py--><polygon fill="#FFFFFF" filter="url(#f1dx5opul9wksi)" points="285,6,404,6,411,28.2969,493,28.2969,493,118,285,118,285,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="285" x2="411" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113" x="289" y="20.9951">speech_act.py</text><!--MD5=[3fc63066f9a8756af46b49702ef02b2a]
cluster betting_exchange.py--><polygon fill="#FFFFFF" filter="url(#f1dx5opul9wksi)" points="16,167,186,167,193,189.2969,492,189.2969,492,1020,16,1020,16,167" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="193" y1="189.2969" y2="189.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="164" x="20" y="181.9951">betting_exchange.py</text><!--MD5=[016d320e882ad9b057e5c379365b2ed4]
class AllsemblyServer--><rect codeLine="5" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="214.4609" id="AllsemblyServer" style="stroke:#A80036;stroke-width:1.5;" width="237" x="368.5" y="1431"/><ellipse cx="434.25" cy="1447" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M437.2188,1452.6406 Q436.6406,1452.9375 436,1453.0781 Q435.3594,1453.2344 434.6563,1453.2344 Q432.1563,1453.2344 430.8281,1451.5938 Q429.5156,1449.9375 429.5156,1446.8125 Q429.5156,1443.6875 430.8281,1442.0313 Q432.1563,1440.375 434.6563,1440.375 Q435.3594,1440.375 436,1440.5313 Q436.6563,1440.6875 437.2188,1440.9844 L437.2188,1443.7031 Q436.5938,1443.125 436,1442.8594 Q435.4063,1442.5781 434.7813,1442.5781 Q433.4375,1442.5781 432.75,1443.6563 Q432.0625,1444.7188 432.0625,1446.8125 Q432.0625,1448.9063 432.75,1449.9844 Q433.4375,1451.0469 434.7813,1451.0469 Q435.4063,1451.0469 436,1450.7813 Q436.5938,1450.5 437.2188,1449.9219 L437.2188,1452.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="454.75" y="1451.1543">AllsemblyServer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="369.5" x2="604.5" y1="1463" y2="1463"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1471"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="388.5" y="1477.2104">userauth_dbfilename: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1483.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="388.5" y="1490.0151">user_dbfilename: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1496.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="388.5" y="1502.8198">arg_dbfilename: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1509.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="388.5" y="1515.6245">order_queue: deque[Tuple]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1522.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="181" x="388.5" y="1528.4292">graph_arg_queue: deque[Tuple]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1535.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="388.5" y="1541.2339">graph_pos_queue: deque[Tuple]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="369.5" x2="604.5" y1="1547.8281" y2="1547.8281"/><ellipse cx="379.5" cy="1558.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="388.5" y="1562.0386">process_all_issues_from_queue()</text><ellipse cx="379.5" cy="1571.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="388.5" y="1574.8433">process_all_orders_from_queue()</text><ellipse cx="379.5" cy="1584.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="388.5" y="1587.6479">process_all_positions_from_queue()</text><ellipse cx="379.5" cy="1597.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="211" x="388.5" y="1600.4526">process_all_items_from_all_queues()</text><ellipse cx="379.5" cy="1610.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="388.5" y="1613.2573">process_all_items_of_one_request()</text><ellipse cx="379.5" cy="1622.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="388.5" y="1626.062">cleanup()</text><ellipse cx="379.5" cy="1635.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="388.5" y="1638.8667">server_main_loop()</text><!--MD5=[d8d3485db958081f7d80e71b46c502bf]
class ServerControl--><rect codeLine="21" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="99.2188" id="ServerControl" style="stroke:#A80036;stroke-width:1.5;" width="134" x="368" y="1203.5"/><ellipse cx="390.65" cy="1219.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M393.6188,1225.1406 Q393.0406,1225.4375 392.4,1225.5781 Q391.7594,1225.7344 391.0563,1225.7344 Q388.5563,1225.7344 387.2281,1224.0938 Q385.9156,1222.4375 385.9156,1219.3125 Q385.9156,1216.1875 387.2281,1214.5313 Q388.5563,1212.875 391.0563,1212.875 Q391.7594,1212.875 392.4,1213.0313 Q393.0563,1213.1875 393.6188,1213.4844 L393.6188,1216.2031 Q392.9938,1215.625 392.4,1215.3594 Q391.8063,1215.0781 391.1813,1215.0781 Q389.8375,1215.0781 389.15,1216.1563 Q388.4625,1217.2188 388.4625,1219.3125 Q388.4625,1221.4063 389.15,1222.4844 Q389.8375,1223.5469 391.1813,1223.5469 Q391.8063,1223.5469 392.4,1223.2813 Q392.9938,1223 393.6188,1222.4219 L393.6188,1225.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85" x="406.35" y="1223.6543">ServerControl</text><line style="stroke:#A80036;stroke-width:1.5;" x1="369" x2="501" y1="1235.5" y2="1235.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376" y="1243.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="388" y="1249.7104">_should_exit: int</text><line style="stroke:#A80036;stroke-width:1.5;" x1="369" x2="501" y1="1256.3047" y2="1256.3047"/><ellipse cx="379" cy="1267.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="388" y="1270.5151">should_exit()</text><ellipse cx="379" cy="1280.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="388" y="1283.3198">set_should_exit()</text><ellipse cx="379" cy="1292.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="108" x="388" y="1296.1245">reset_should_exit()</text><!--MD5=[888cc55037f1ff3a80f1690d9a2c6ae4]
class IssueQueue--><rect codeLine="33" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="86.4141" id="IssueQueue" style="stroke:#A80036;stroke-width:1.5;" width="106" x="666" y="1210"/><ellipse cx="681" cy="1226" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M683.9688,1231.6406 Q683.3906,1231.9375 682.75,1232.0781 Q682.1094,1232.2344 681.4063,1232.2344 Q678.9063,1232.2344 677.5781,1230.5938 Q676.2656,1228.9375 676.2656,1225.8125 Q676.2656,1222.6875 677.5781,1221.0313 Q678.9063,1219.375 681.4063,1219.375 Q682.1094,1219.375 682.75,1219.5313 Q683.4063,1219.6875 683.9688,1219.9844 L683.9688,1222.7031 Q683.3438,1222.125 682.75,1221.8594 Q682.1563,1221.5781 681.5313,1221.5781 Q680.1875,1221.5781 679.5,1222.6563 Q678.8125,1223.7188 678.8125,1225.8125 Q678.8125,1227.9063 679.5,1228.9844 Q680.1875,1230.0469 681.5313,1230.0469 Q682.1563,1230.0469 682.75,1229.7813 Q683.3438,1229.5 683.9688,1228.9219 L683.9688,1231.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="695" y="1230.1543">IssueQueue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="667" x2="771" y1="1242" y2="1242"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="674" y="1250"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="686" y="1256.2104">queue: deque</text><line style="stroke:#A80036;stroke-width:1.5;" x1="667" x2="771" y1="1262.8047" y2="1262.8047"/><ellipse cx="677" cy="1273.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="686" y="1277.0151">add_issue()</text><ellipse cx="677" cy="1286.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="686" y="1289.8198">delete_issue()</text><!--MD5=[1f6ab8b135da9963291ac7f46ae2a01a]
class GraphRequest--><rect codeLine="39" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="73.6094" id="GraphRequest" style="stroke:#A80036;stroke-width:1.5;" width="147" x="807.5" y="1216"/><ellipse cx="833.75" cy="1232" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M836.7188,1237.6406 Q836.1406,1237.9375 835.5,1238.0781 Q834.8594,1238.2344 834.1563,1238.2344 Q831.6563,1238.2344 830.3281,1236.5938 Q829.0156,1234.9375 829.0156,1231.8125 Q829.0156,1228.6875 830.3281,1227.0313 Q831.6563,1225.375 834.1563,1225.375 Q834.8594,1225.375 835.5,1225.5313 Q836.1563,1225.6875 836.7188,1225.9844 L836.7188,1228.7031 Q836.0938,1228.125 835.5,1227.8594 Q834.9063,1227.5781 834.2813,1227.5781 Q832.9375,1227.5781 832.25,1228.6563 Q831.5625,1229.7188 831.5625,1231.8125 Q831.5625,1233.9063 832.25,1234.9844 Q832.9375,1236.0469 834.2813,1236.0469 Q834.9063,1236.0469 835.5,1235.7813 Q836.0938,1235.5 836.7188,1234.9219 L836.7188,1237.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="850.25" y="1236.1543">GraphRequest</text><line style="stroke:#A80036;stroke-width:1.5;" x1="808.5" x2="953.5" y1="1248" y2="1248"/><line style="stroke:#A80036;stroke-width:1.5;" x1="808.5" x2="953.5" y1="1256" y2="1256"/><ellipse cx="818.5" cy="1267" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="827.5" y="1270.2104">draw()</text><ellipse cx="818.5" cy="1279.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="827.5" y="1283.0151">get_position_details()</text><!--MD5=[37abfbc56d0d571c825fbcfe542f9d2c]
class LedgerRequest--><rect codeLine="44" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="60.8047" id="LedgerRequest" style="stroke:#A80036;stroke-width:1.5;" width="127" x="1323.5" y="1222.5"/><ellipse cx="1338.5" cy="1238.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1341.4688,1244.1406 Q1340.8906,1244.4375 1340.25,1244.5781 Q1339.6094,1244.7344 1338.9063,1244.7344 Q1336.4063,1244.7344 1335.0781,1243.0938 Q1333.7656,1241.4375 1333.7656,1238.3125 Q1333.7656,1235.1875 1335.0781,1233.5313 Q1336.4063,1231.875 1338.9063,1231.875 Q1339.6094,1231.875 1340.25,1232.0313 Q1340.9063,1232.1875 1341.4688,1232.4844 L1341.4688,1235.2031 Q1340.8438,1234.625 1340.25,1234.3594 Q1339.6563,1234.0781 1339.0313,1234.0781 Q1337.6875,1234.0781 1337,1235.1563 Q1336.3125,1236.2188 1336.3125,1238.3125 Q1336.3125,1240.4063 1337,1241.4844 Q1337.6875,1242.5469 1339.0313,1242.5469 Q1339.6563,1242.5469 1340.25,1242.2813 Q1340.8438,1242 1341.4688,1241.4219 L1341.4688,1244.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="1352.5" y="1242.6543">LedgerRequest</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1324.5" x2="1449.5" y1="1254.5" y2="1254.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="1329.5" y="1268.7104">(unused)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1324.5" x2="1449.5" y1="1275.3047" y2="1275.3047"/><!--MD5=[947122b0b3325a586693ed9e5d4d93a8]
class _UserAuthenticator--><rect codeLine="48" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="201.6563" id="_UserAuthenticator" style="stroke:#A80036;stroke-width:1.5;" width="230" x="1486" y="1152"/><ellipse cx="1536.25" cy="1168" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1539.2188,1173.6406 Q1538.6406,1173.9375 1538,1174.0781 Q1537.3594,1174.2344 1536.6563,1174.2344 Q1534.1563,1174.2344 1532.8281,1172.5938 Q1531.5156,1170.9375 1531.5156,1167.8125 Q1531.5156,1164.6875 1532.8281,1163.0313 Q1534.1563,1161.375 1536.6563,1161.375 Q1537.3594,1161.375 1538,1161.5313 Q1538.6563,1161.6875 1539.2188,1161.9844 L1539.2188,1164.7031 Q1538.5938,1164.125 1538,1163.8594 Q1537.4063,1163.5781 1536.7813,1163.5781 Q1535.4375,1163.5781 1534.75,1164.6563 Q1534.0625,1165.7188 1534.0625,1167.8125 Q1534.0625,1169.9063 1534.75,1170.9844 Q1535.4375,1172.0469 1536.7813,1172.0469 Q1537.4063,1172.0469 1538,1171.7813 Q1538.5938,1171.5 1539.2188,1170.9219 L1539.2188,1173.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="1556.75" y="1172.1543">_UserAuthenticator</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1487" x2="1715" y1="1184" y2="1184"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1192"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="1506" y="1198.2104">userauth_dbfilename: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1204.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="1506" y="1211.0151">user_dbfilename: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1217.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="203" x="1506" y="1223.8198">authdb_storage: ZODB..FileStorage</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1230.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="1506" y="1236.6245">userdb_storage: ZODB..FileStorage</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1243.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="1506" y="1249.4292">authdb: ZODB.DB</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1256.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="1506" y="1262.2339">userdb: ZODB.DB</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1268.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="1506" y="1275.0386">authdb_conn: ZODB..Connection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1281.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="186" x="1506" y="1287.8433">userdb_conn: ZODB..Connection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1294.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="1506" y="1300.6479">_fernet_cryptor: bytes</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1494" y="1307.2422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="1506" y="1313.4526">userid_salt (unused)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1487" x2="1715" y1="1320.0469" y2="1320.0469"/><ellipse cx="1497" cy="1331.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="1506" y="1334.2573">authenticate_user()</text><ellipse cx="1497" cy="1343.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="1506" y="1347.062">close_databases()</text><!--MD5=[841c62c0667c9deb1c7091e6533bcde9]
class AllsemblyServices--><rect codeLine="63" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="150.4375" id="AllsemblyServices" style="stroke:#A80036;stroke-width:1.5;" width="226" x="1122" y="1463"/><ellipse cx="1137" cy="1479" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1139.9688,1484.6406 Q1139.3906,1484.9375 1138.75,1485.0781 Q1138.1094,1485.2344 1137.4063,1485.2344 Q1134.9063,1485.2344 1133.5781,1483.5938 Q1132.2656,1481.9375 1132.2656,1478.8125 Q1132.2656,1475.6875 1133.5781,1474.0313 Q1134.9063,1472.375 1137.4063,1472.375 Q1138.1094,1472.375 1138.75,1472.5313 Q1139.4063,1472.6875 1139.9688,1472.9844 L1139.9688,1475.7031 Q1139.3438,1475.125 1138.75,1474.8594 Q1138.1563,1474.5781 1137.5313,1474.5781 Q1136.1875,1474.5781 1135.5,1475.6563 Q1134.8125,1476.7188 1134.8125,1478.8125 Q1134.8125,1480.9063 1135.5,1481.9844 Q1136.1875,1483.0469 1137.5313,1483.0469 Q1138.1563,1483.0469 1138.75,1482.7813 Q1139.3438,1482.5 1139.9688,1481.9219 L1139.9688,1484.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194" x="1151" y="1483.1543">AllsemblyServices(rpyc.Service)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1123" x2="1347" y1="1495" y2="1495"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1130" y="1503"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="1142" y="1509.2104">order_queue: deque[Tuple]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1130" y="1515.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="181" x="1142" y="1522.0151">graph_arg_queue: deque[Tuple]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1130" y="1528.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="1142" y="1534.8198">graph_pos_queue: deque[Tuple]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1123" x2="1347" y1="1541.4141" y2="1541.4141"/><ellipse cx="1133" cy="1552.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="1142" y="1555.6245">on_connect()</text><ellipse cx="1133" cy="1565.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="1142" y="1568.4292">on_disconnect()</text><ellipse cx="1133" cy="1578.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="1142" y="1581.2339">exposed_get_user_services()</text><ellipse cx="1133" cy="1590.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="164" x="1142" y="1594.0386">exposed_authenticate_user()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1130" y="1600.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="1142" y="1606.8433">_add_issue()</text><!--MD5=[c27a7437622705ce0b5a12223313eb8a]
class UserServices--><rect codeLine="74" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="124.8281" id="UserServices" style="stroke:#A80036;stroke-width:1.5;" width="299" x="989.5" y="1190.5"/><ellipse cx="1094.25" cy="1206.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1097.2188,1212.1406 Q1096.6406,1212.4375 1096,1212.5781 Q1095.3594,1212.7344 1094.6563,1212.7344 Q1092.1563,1212.7344 1090.8281,1211.0938 Q1089.5156,1209.4375 1089.5156,1206.3125 Q1089.5156,1203.1875 1090.8281,1201.5313 Q1092.1563,1199.875 1094.6563,1199.875 Q1095.3594,1199.875 1096,1200.0313 Q1096.6563,1200.1875 1097.2188,1200.4844 L1097.2188,1203.2031 Q1096.5938,1202.625 1096,1202.3594 Q1095.4063,1202.0781 1094.7813,1202.0781 Q1093.4375,1202.0781 1092.75,1203.1563 Q1092.0625,1204.2188 1092.0625,1206.3125 Q1092.0625,1208.4063 1092.75,1209.4844 Q1093.4375,1210.5469 1094.7813,1210.5469 Q1095.4063,1210.5469 1096,1210.2813 Q1096.5938,1210 1097.2188,1209.4219 L1097.2188,1212.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="1114.75" y="1210.6543">UserServices</text><line style="stroke:#A80036;stroke-width:1.5;" x1="990.5" x2="1287.5" y1="1222.5" y2="1222.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="990.5" x2="1287.5" y1="1230.5" y2="1230.5"/><ellipse cx="1000.5" cy="1241.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="273" x="1009.5" y="1244.7104">check_commitments_for_consistency() (unused)</text><ellipse cx="1000.5" cy="1254.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="1009.5" y="1257.5151">delete_issue()</text><ellipse cx="1000.5" cy="1267.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="1009.5" y="1270.3198">argue()</text><ellipse cx="1000.5" cy="1279.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="1009.5" y="1283.1245">propose()</text><ellipse cx="1000.5" cy="1292.7188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="1009.5" y="1295.9292">get_arg_graph()</text><ellipse cx="1000.5" cy="1305.5234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="1009.5" y="1308.7339">get_position_details()</text><!--MD5=[a516bff407155c76e42a205ce7fbb80e]
class Issues(Persistent)--><rect codeLine="85" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="73.6094" id="Issues(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="176" x="631" y="943"/><ellipse cx="659.5" cy="959" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M662.4688,964.6406 Q661.8906,964.9375 661.25,965.0781 Q660.6094,965.2344 659.9063,965.2344 Q657.4063,965.2344 656.0781,963.5938 Q654.7656,961.9375 654.7656,958.8125 Q654.7656,955.6875 656.0781,954.0313 Q657.4063,952.375 659.9063,952.375 Q660.6094,952.375 661.25,952.5313 Q661.9063,952.6875 662.4688,952.9844 L662.4688,955.7031 Q661.8438,955.125 661.25,954.8594 Q660.6563,954.5781 660.0313,954.5781 Q658.6875,954.5781 658,955.6563 Q657.3125,956.7188 657.3125,958.8125 Q657.3125,960.9063 658,961.9844 Q658.6875,963.0469 660.0313,963.0469 Q660.6563,963.0469 661.25,962.7813 Q661.8438,962.5 662.4688,961.9219 L662.4688,964.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="676.5" y="963.1543">Issues(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="632" x2="806" y1="975" y2="975"/><ellipse cx="642" cy="986" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="651" y="989.2104">graphs: OOBTree</text><ellipse cx="642" cy="998.8047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="150" x="651" y="1002.0151">next_issue_id: AtomicLong</text><line style="stroke:#A80036;stroke-width:1.5;" x1="632" x2="806" y1="1008.6094" y2="1008.6094"/><!--MD5=[4efd88d5898a5db838a5c3f68dec1c7e]
class ArgumentGraph(Persistent)--><rect codeLine="90" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="419.3359" id="ArgumentGraph(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="280" x="579" y="391"/><ellipse cx="628.25" cy="407" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M631.2188,412.6406 Q630.6406,412.9375 630,413.0781 Q629.3594,413.2344 628.6563,413.2344 Q626.1563,413.2344 624.8281,411.5938 Q623.5156,409.9375 623.5156,406.8125 Q623.5156,403.6875 624.8281,402.0313 Q626.1563,400.375 628.6563,400.375 Q629.3594,400.375 630,400.5313 Q630.6563,400.6875 631.2188,400.9844 L631.2188,403.7031 Q630.5938,403.125 630,402.8594 Q629.4063,402.5781 628.7813,402.5781 Q627.4375,402.5781 626.75,403.6563 Q626.0625,404.7188 626.0625,406.8125 Q626.0625,408.9063 626.75,409.9844 Q627.4375,411.0469 628.7813,411.0469 Q629.4063,411.0469 630,410.7813 Q630.5938,410.5 631.2188,409.9219 L631.2188,412.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="648.75" y="411.1543">ArgumentGraph(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="580" x2="858" y1="423" y2="423"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="431"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="154" x="599" y="437.2104">_v_my_rwlock: RWLockWrite</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="443.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="599" y="450.0151">_v_my_wlock</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="456.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="599" y="462.8198">_v_my_rlock</text><ellipse cx="590" cy="472.4141" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="599" y="475.6245">issue_name: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="482.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="599" y="488.4292">arg_node_index: PersistentMapping</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="495.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="599" y="501.2339">pos_node_index: PersistentMapping</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="507.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="599" y="514.0386">next_arg_id: AtomicLong</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="520.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="599" y="526.8433">next_pos_id: AtomicLong</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="533.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="599" y="539.6479">read_buffer_index: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="546.2422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="599" y="552.4526">write_buffer_index: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="559.0469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="599" y="565.2573">/_v_gv_graph: AGraph</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="571.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="599" y="578.062">/my_problog_prog: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="584.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="599" y="590.8667">/_v_my_g_svg: list[str]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="580" x2="858" y1="597.4609" y2="597.4609"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="605.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="599" y="611.6714">_add_position_to_gv_graph()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="618.2656"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="171" x="599" y="624.4761">_add_argument_to_gv_graph()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="631.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="599" y="637.2808">_update_gv_graph_nodes()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="643.875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="599" y="650.0854">_build_initial_gv_graph()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="656.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="199" x="599" y="662.8901">_add_clause_to_problog_program()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="669.4844"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="253" x="599" y="675.6948">_add_virtual_evidence_to_problog_program()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="682.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="254" x="599" y="688.4995">_add_term_and_query_to_problog_program()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="695.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="599" y="701.3042">_build_problog_program()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="707.8984"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="599" y="714.1089">_problog_calculate()</text><ellipse cx="590" cy="723.7031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="599" y="726.9136">get_problog_program_string()</text><ellipse cx="590" cy="736.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="599" y="739.7183">add_argument()</text><ellipse cx="590" cy="749.3125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="599" y="752.5229">get_position_copy()</text><ellipse cx="590" cy="762.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="599" y="765.3276">add_position()</text><ellipse cx="590" cy="774.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="599" y="778.1323">hide_arguement() (unused)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="784.7266"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="599" y="790.937">_prepare_graph()</text><ellipse cx="590" cy="800.5313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="599" y="803.7417">draw_graph()</text><!--MD5=[a592d4447b4b7ca252bb4539f928d356]
class PositionNode(Persistent)--><rect codeLine="123" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="73.6094" id="PositionNode(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="189" x="767.5" y="221"/><ellipse cx="782.5" cy="237" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M785.4688,242.6406 Q784.8906,242.9375 784.25,243.0781 Q783.6094,243.2344 782.9063,243.2344 Q780.4063,243.2344 779.0781,241.5938 Q777.7656,239.9375 777.7656,236.8125 Q777.7656,233.6875 779.0781,232.0313 Q780.4063,230.375 782.9063,230.375 Q783.6094,230.375 784.25,230.5313 Q784.9063,230.6875 785.4688,230.9844 L785.4688,233.7031 Q784.8438,233.125 784.25,232.8594 Q783.6563,232.5781 783.0313,232.5781 Q781.6875,232.5781 781,233.6563 Q780.3125,234.7188 780.3125,236.8125 Q780.3125,238.9063 781,239.9844 Q781.6875,241.0469 783.0313,241.0469 Q783.6563,241.0469 784.25,240.7813 Q784.8438,240.5 785.4688,239.9219 L785.4688,242.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="796.5" y="241.1543">PositionNode(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="768.5" x2="955.5" y1="253" y2="253"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="773.5" y="267.2104">... (dataclass)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="768.5" x2="955.5" y1="273.8047" y2="273.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="115" x="773.5" y="288.0151">build_PositionNode()</text><!--MD5=[466d2b1bfd4597c43ed999d6a4b52366]
class ArgumentNode(Persistent)--><rect codeLine="128" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="73.6094" id="ArgumentNode(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="200" x="532" y="221"/><ellipse cx="547" cy="237" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M549.9688,242.6406 Q549.3906,242.9375 548.75,243.0781 Q548.1094,243.2344 547.4063,243.2344 Q544.9063,243.2344 543.5781,241.5938 Q542.2656,239.9375 542.2656,236.8125 Q542.2656,233.6875 543.5781,232.0313 Q544.9063,230.375 547.4063,230.375 Q548.1094,230.375 548.75,230.5313 Q549.4063,230.6875 549.9688,230.9844 L549.9688,233.7031 Q549.3438,233.125 548.75,232.8594 Q548.1563,232.5781 547.5313,232.5781 Q546.1875,232.5781 545.5,233.6563 Q544.8125,234.7188 544.8125,236.8125 Q544.8125,238.9063 545.5,239.9844 Q546.1875,241.0469 547.5313,241.0469 Q548.1563,241.0469 548.75,240.7813 Q549.3438,240.5 549.9688,239.9219 L549.9688,242.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="561" y="241.1543">ArgumentNode(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="533" x2="731" y1="253" y2="253"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="538" y="267.2104">... (dataclass)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="533" x2="731" y1="273.8047" y2="273.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="125" x="538" y="288.0151">build_ArgumentNode()</text><!--MD5=[42b94ab53c15a11c32066445641a26bf]
class UserAuth(Persistent)--><rect codeLine="144" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="86.4141" id="UserAuth(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="164" x="2040" y="1495"/><ellipse cx="2055" cy="1511" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2057.9688,1516.6406 Q2057.3906,1516.9375 2056.75,1517.0781 Q2056.1094,1517.2344 2055.4063,1517.2344 Q2052.9063,1517.2344 2051.5781,1515.5938 Q2050.2656,1513.9375 2050.2656,1510.8125 Q2050.2656,1507.6875 2051.5781,1506.0313 Q2052.9063,1504.375 2055.4063,1504.375 Q2056.1094,1504.375 2056.75,1504.5313 Q2057.4063,1504.6875 2057.9688,1504.9844 L2057.9688,1507.7031 Q2057.3438,1507.125 2056.75,1506.8594 Q2056.1563,1506.5781 2055.5313,1506.5781 Q2054.1875,1506.5781 2053.5,1507.6563 Q2052.8125,1508.7188 2052.8125,1510.8125 Q2052.8125,1512.9063 2053.5,1513.9844 Q2054.1875,1515.0469 2055.5313,1515.0469 Q2056.1563,1515.0469 2056.75,1514.7813 Q2057.3438,1514.5 2057.9688,1513.9219 L2057.9688,1516.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="2069" y="1515.1543">UserAuth(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2041" x2="2203" y1="1527" y2="1527"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="2046" y="1541.2104">userid_hashed: bytes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="143" x="2046" y="1554.0151">password_hashed: bytes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="2046" y="1566.8198">pwd_salt: bytes</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2041" x2="2203" y1="1573.4141" y2="1573.4141"/><!--MD5=[4cffcd5ec6e42f3684f3c2e850d061de]
class UserInfo(Persistent)--><rect codeLine="150" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="112.0234" id="UserInfo(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="233" x="1771.5" y="1482"/><ellipse cx="1820.75" cy="1498" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1823.7188,1503.6406 Q1823.1406,1503.9375 1822.5,1504.0781 Q1821.8594,1504.2344 1821.1563,1504.2344 Q1818.6563,1504.2344 1817.3281,1502.5938 Q1816.0156,1500.9375 1816.0156,1497.8125 Q1816.0156,1494.6875 1817.3281,1493.0313 Q1818.6563,1491.375 1821.1563,1491.375 Q1821.8594,1491.375 1822.5,1491.5313 Q1823.1563,1491.6875 1823.7188,1491.9844 L1823.7188,1494.7031 Q1823.0938,1494.125 1822.5,1493.8594 Q1821.9063,1493.5781 1821.2813,1493.5781 Q1819.9375,1493.5781 1819.25,1494.6563 Q1818.5625,1495.7188 1818.5625,1497.8125 Q1818.5625,1499.9063 1819.25,1500.9844 Q1819.9375,1502.0469 1821.2813,1502.0469 Q1821.9063,1502.0469 1822.5,1501.7813 Q1823.0938,1501.5 1823.7188,1500.9219 L1823.7188,1503.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="126" x="1841.25" y="1502.1543">UserInfo(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1772.5" x2="2003.5" y1="1514" y2="1514"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="1777.5" y="1528.2104">userid_hashed: bytes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="1777.5" y="1541.0151">last_login: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="1777.5" y="1553.8198">current_isssue: int (unused)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="172" x="1777.5" y="1566.6245">current_subuser: str (unused)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="221" x="1777.5" y="1579.4292">subusers: PersistentMapping (unused)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1772.5" x2="2003.5" y1="1586.0234" y2="1586.0234"/><!--MD5=[e9196e6eb495eef2eb08030c48ac326a]
class UserClientSettings(Persistent)--><rect codeLine="158" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="60.8047" id="UserClientSettings(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="222" x="1777" y="1708"/><ellipse cx="1792" cy="1724" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1794.9688,1729.6406 Q1794.3906,1729.9375 1793.75,1730.0781 Q1793.1094,1730.2344 1792.4063,1730.2344 Q1789.9063,1730.2344 1788.5781,1728.5938 Q1787.2656,1726.9375 1787.2656,1723.8125 Q1787.2656,1720.6875 1788.5781,1719.0313 Q1789.9063,1717.375 1792.4063,1717.375 Q1793.1094,1717.375 1793.75,1717.5313 Q1794.4063,1717.6875 1794.9688,1717.9844 L1794.9688,1720.7031 Q1794.3438,1720.125 1793.75,1719.8594 Q1793.1563,1719.5781 1792.5313,1719.5781 Q1791.1875,1719.5781 1790.5,1720.6563 Q1789.8125,1721.7188 1789.8125,1723.8125 Q1789.8125,1725.9063 1790.5,1726.9844 Q1791.1875,1728.0469 1792.5313,1728.0469 Q1793.1563,1728.0469 1793.75,1727.7813 Q1794.3438,1727.5 1794.9688,1726.9219 L1794.9688,1729.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="190" x="1806" y="1728.1543">UserClientSettings(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1778" x2="1998" y1="1740" y2="1740"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="1783" y="1754.2104">(unused)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1778" x2="1998" y1="1760.8047" y2="1760.8047"/><!--MD5=[d254301b9944b8ad94c209d5c7d31a44]
class ProblogModel(Persistent)--><rect codeLine="178" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="176.0469" id="ProblogModel(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="210" x="1013" y="892"/><ellipse cx="1036.55" cy="908" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1039.5188,913.6406 Q1038.9406,913.9375 1038.3,914.0781 Q1037.6594,914.2344 1036.9563,914.2344 Q1034.4563,914.2344 1033.1281,912.5938 Q1031.8156,910.9375 1031.8156,907.8125 Q1031.8156,904.6875 1033.1281,903.0313 Q1034.4563,901.375 1036.9563,901.375 Q1037.6594,901.375 1038.3,901.5313 Q1038.9563,901.6875 1039.5188,901.9844 L1039.5188,904.7031 Q1038.8938,904.125 1038.3,903.8594 Q1037.7063,903.5781 1037.0813,903.5781 Q1035.7375,903.5781 1035.05,904.6563 Q1034.3625,905.7188 1034.3625,907.8125 Q1034.3625,909.9063 1035.05,910.9844 Q1035.7375,912.0469 1037.0813,912.0469 Q1037.7063,912.0469 1038.3,911.7813 Q1038.8938,911.5 1039.5188,910.9219 L1039.5188,913.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159" x="1052.45" y="912.1543">ProblogModel(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1014" x2="1222" y1="924" y2="924"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="932"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="154" x="1033" y="938.2104">_v_my_rwlock: RWLockWrite</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="944.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="1033" y="951.0151">_v_my_wlock</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="957.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="1033" y="963.8198">_v_my_rlock</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="970.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="1033" y="976.6245">_read_buffer_index: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="983.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="1033" y="989.4292">_write_buffer_index: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="996.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="1033" y="1002.2339">_problog_queuy_results</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1014" x2="1222" y1="1008.8281" y2="1008.8281"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="1016.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="1033" y="1023.0386">__setstate__()</text><ellipse cx="1024" cy="1032.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="1033" y="1035.8433">calculate_marginals()</text><ellipse cx="1024" cy="1045.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="1033" y="1048.6479">add_terms() (unused)</text><ellipse cx="1024" cy="1058.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="1033" y="1061.4526">update_term_weights() (unused)</text><!--MD5=[ec781e43da3da74861fc8963ff5a8504]
class IndependentBid(orAsk)--><rect codeLine="193" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="60.8047" id="IndependentBid(orAsk)" style="stroke:#A80036;stroke-width:1.5;" width="176" x="301" y="41"/><ellipse cx="316" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M318.9688,62.6406 Q318.3906,62.9375 317.75,63.0781 Q317.1094,63.2344 316.4063,63.2344 Q313.9063,63.2344 312.5781,61.5938 Q311.2656,59.9375 311.2656,56.8125 Q311.2656,53.6875 312.5781,52.0313 Q313.9063,50.375 316.4063,50.375 Q317.1094,50.375 317.75,50.5313 Q318.4063,50.6875 318.9688,50.9844 L318.9688,53.7031 Q318.3438,53.125 317.75,52.8594 Q317.1563,52.5781 316.5313,52.5781 Q315.1875,52.5781 314.5,53.6563 Q313.8125,54.7188 313.8125,56.8125 Q313.8125,58.9063 314.5,59.9844 Q315.1875,61.0469 316.5313,61.0469 Q317.1563,61.0469 317.75,60.7813 Q318.3438,60.5 318.9688,59.9219 L318.9688,62.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="330" y="61.1543">IndependentBid(orAsk)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="302" x2="476" y1="73" y2="73"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="307" y="87.2104">... (future fields)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="302" x2="476" y1="93.8047" y2="93.8047"/><!--MD5=[69f1d98396c4b57dca524df781583e29]
class BettingExchange(Persistent)--><rect codeLine="199" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="48" id="BettingExchange(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="212" x="264" y="956"/><ellipse cx="279" cy="972" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M281.9688,977.6406 Q281.3906,977.9375 280.75,978.0781 Q280.1094,978.2344 279.4063,978.2344 Q276.9063,978.2344 275.5781,976.5938 Q274.2656,974.9375 274.2656,971.8125 Q274.2656,968.6875 275.5781,967.0313 Q276.9063,965.375 279.4063,965.375 Q280.1094,965.375 280.75,965.5313 Q281.4063,965.6875 281.9688,965.9844 L281.9688,968.7031 Q281.3438,968.125 280.75,967.8594 Q280.1563,967.5781 279.5313,967.5781 Q278.1875,967.5781 277.5,968.6563 Q276.8125,969.7188 276.8125,971.8125 Q276.8125,973.9063 277.5,974.9844 Q278.1875,976.0469 279.5313,976.0469 Q280.1563,976.0469 280.75,975.7813 Q281.3438,975.5 281.9688,974.9219 L281.9688,977.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="293" y="976.1543">BettingExchange(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="265" x2="475" y1="988" y2="988"/><line style="stroke:#A80036;stroke-width:1.5;" x1="265" x2="475" y1="996" y2="996"/><!--MD5=[724778c6a160c11038d356987be2e711]
class BettingMarket(Persistent)--><rect codeLine="202" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="73.6094" id="BettingMarket(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="205" x="271.5" y="563.5"/><ellipse cx="291.45" cy="579.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M294.4188,585.1406 Q293.8406,585.4375 293.2,585.5781 Q292.5594,585.7344 291.8563,585.7344 Q289.3563,585.7344 288.0281,584.0938 Q286.7156,582.4375 286.7156,579.3125 Q286.7156,576.1875 288.0281,574.5313 Q289.3563,572.875 291.8563,572.875 Q292.5594,572.875 293.2,573.0313 Q293.8563,573.1875 294.4188,573.4844 L294.4188,576.2031 Q293.7938,575.625 293.2,575.3594 Q292.6063,575.0781 291.9813,575.0781 Q290.6375,575.0781 289.95,576.1563 Q289.2625,577.2188 289.2625,579.3125 Q289.2625,581.4063 289.95,582.4844 Q290.6375,583.5469 291.9813,583.5469 Q292.6063,583.5469 293.2,583.2813 Q293.7938,583 294.4188,582.4219 L294.4188,585.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="162" x="306.55" y="583.6543">BettingMarket(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="272.5" x2="475.5" y1="595.5" y2="595.5"/><ellipse cx="282.5" cy="606.5" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="291.5" y="609.7104">last_support_price: float</text><ellipse cx="282.5" cy="619.3047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="291.5" y="622.5151">market_id: int (same as arg_id)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="272.5" x2="475.5" y1="629.1094" y2="629.1094"/><!--MD5=[f141c8a71f2c1b9d36e0e56ff264ed5c]
class OrderBook(Persistent)--><rect codeLine="207" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="112.0234" id="OrderBook(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="172" x="304" y="202"/><ellipse cx="319" cy="218" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M321.9688,223.6406 Q321.3906,223.9375 320.75,224.0781 Q320.1094,224.2344 319.4063,224.2344 Q316.9063,224.2344 315.5781,222.5938 Q314.2656,220.9375 314.2656,217.8125 Q314.2656,214.6875 315.5781,213.0313 Q316.9063,211.375 319.4063,211.375 Q320.1094,211.375 320.75,211.5313 Q321.4063,211.6875 321.9688,211.9844 L321.9688,214.7031 Q321.3438,214.125 320.75,213.8594 Q320.1563,213.5781 319.5313,213.5781 Q318.1875,213.5781 317.5,214.6563 Q316.8125,215.7188 316.8125,217.8125 Q316.8125,219.9063 317.5,220.9844 Q318.1875,222.0469 319.5313,222.0469 Q320.1563,222.0469 320.75,221.7813 Q321.3438,221.5 321.9688,220.9219 L321.9688,223.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="140" x="333" y="222.1543">OrderBook(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="305" x2="475" y1="234" y2="234"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312" y="242"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="324" y="248.2104">support_bids_index</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312" y="254.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="108" x="324" y="261.0151">oppose_bids_index</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312" y="267.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="324" y="273.8198">support_asks_index</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312" y="280.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="324" y="286.6245">oppose_asks_index</text><line style="stroke:#A80036;stroke-width:1.5;" x1="305" x2="475" y1="293.2188" y2="293.2188"/><ellipse cx="315" cy="304.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="324" y="307.4292">... () (future methods)</text><!--MD5=[c714d04275768bb04f95761cf1e37729]
class Ledger(Persistent)--><rect codeLine="215" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="112.0234" id="Ledger(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="149" x="100.5" y="202"/><ellipse cx="115.5" cy="218" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M118.4688,223.6406 Q117.8906,223.9375 117.25,224.0781 Q116.6094,224.2344 115.9063,224.2344 Q113.4063,224.2344 112.0781,222.5938 Q110.7656,220.9375 110.7656,217.8125 Q110.7656,214.6875 112.0781,213.0313 Q113.4063,211.375 115.9063,211.375 Q116.6094,211.375 117.25,211.5313 Q117.9063,211.6875 118.4688,211.9844 L118.4688,214.7031 Q117.8438,214.125 117.25,213.8594 Q116.6563,213.5781 116.0313,213.5781 Q114.6875,213.5781 114,214.6563 Q113.3125,215.7188 113.3125,217.8125 Q113.3125,219.9063 114,220.9844 Q114.6875,222.0469 116.0313,222.0469 Q116.6563,222.0469 117.25,221.7813 Q117.8438,221.5 118.4688,220.9219 L118.4688,223.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="129.5" y="222.1543">Ledger(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="101.5" x2="248.5" y1="234" y2="234"/><ellipse cx="111.5" cy="245" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="120.5" y="248.2104">index: OOBTree</text><line style="stroke:#A80036;stroke-width:1.0;" x1="101.5" x2="248.5" y1="254.8047" y2="254.8047"/><line style="stroke:#A80036;stroke-width:1.0;" x1="101.5" x2="248.5" y1="256.8047" y2="256.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="106.5" y="269.0151">I think there should</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="106.5" y="281.8198">be only one Ledger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="108" x="106.5" y="294.6245">object (not one per</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="106.5" y="307.4292">exchange)</text><!--MD5=[ba21a8682942ebb2572c97f70a557358]
class BettingContract(Persistent)--><rect codeLine="224" fill="#FEFECE" filter="url(#f1dx5opul9wksi)" height="112.0234" id="BettingContract(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="205" x="31.5" y="544.5"/><ellipse cx="46.5" cy="560.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M49.4688,566.1406 Q48.8906,566.4375 48.25,566.5781 Q47.6094,566.7344 46.9063,566.7344 Q44.4063,566.7344 43.0781,565.0938 Q41.7656,563.4375 41.7656,560.3125 Q41.7656,557.1875 43.0781,555.5313 Q44.4063,553.875 46.9063,553.875 Q47.6094,553.875 48.25,554.0313 Q48.9063,554.1875 49.4688,554.4844 L49.4688,557.2031 Q48.8438,556.625 48.25,556.3594 Q47.6563,556.0781 47.0313,556.0781 Q45.6875,556.0781 45,557.1563 Q44.3125,558.2188 44.3125,560.3125 Q44.3125,562.4063 45,563.4844 Q45.6875,564.5469 47.0313,564.5469 Q47.6563,564.5469 48.25,564.2813 Q48.8438,564 49.4688,563.4219 L49.4688,566.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="60.5" y="564.6543">BettingContract(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="235.5" y1="576.5" y2="576.5"/><ellipse cx="42.5" cy="587.5" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="51.5" y="590.7104">user1_anonid: bytes</text><ellipse cx="42.5" cy="600.3047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="51.5" y="603.5151">user2_anonid: bytes</text><ellipse cx="42.5" cy="613.1094" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="51.5" y="616.3198">purchase_price: float</text><ellipse cx="42.5" cy="625.9141" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="51.5" y="629.1245">position_locator</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12" x="51.5" y="641.9292">...</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="235.5" y1="648.5234" y2="648.5234"/><!--MD5=[bc480d48e87de34cea09ce13faf04adb]
reverse link ServerControl to AllsemblyServer--><path codeLine="29" d="M446.314,1315.576 C452.512,1349.308 460.367,1392.057 467.519,1430.978 " fill="none" id="ServerControl-backto-AllsemblyServer" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#FFFFFF" points="443.939,1302.649,441.0894,1309.2732,446.108,1314.4513,448.9576,1307.8272,443.939,1302.649" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[514039cbd977717baaafb34fe2e20814]
reverse link ArgumentGraph(Persistent) to Issues(Persistent)--><path codeLine="134" d="M719,823.303 C719,869.803 719,913.54 719,942.748 " fill="none" id="ArgumentGraph(Persistent)-backto-Issues(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="719,810.124,715,816.124,719,822.124,723,816.124,719,810.124" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="695.5508" y="830.6683">1..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="710.2875" y="931.8901">1</text><!--MD5=[fa60c398c69fdca7e40270be3e854247]
reverse link PositionNode(Persistent) to ArgumentGraph(Persistent)--><path codeLine="135" d="M841.735,307.25 C832.049,330.32 819.722,359.67 806.633,390.84 " fill="none" id="PositionNode(Persistent)-backto-ArgumentGraph(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="846.832,295.12,840.8222,299.1053,842.1895,306.1856,848.1993,302.2003,846.832,295.12" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="819.4151" y="314.6204">0..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="801.6386" y="380.0991">1</text><!--MD5=[ae2ad65c71f6ebd7bd4f0802bd7032e5]
reverse link ArgumentNode(Persistent) to ArgumentGraph(Persistent)--><path codeLine="136" d="M644.493,307.9 C650.361,330.86 657.796,359.96 665.685,390.84 " fill="none" id="ArgumentNode(Persistent)-backto-ArgumentGraph(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="641.228,295.12,638.8358,301.9227,644.1952,306.7474,646.5874,299.9446,641.228,295.12" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="617.8517" y="314.6204">0..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="655.6252" y="380.0991">1</text><!--MD5=[a79773ee08fd7f385c8252ea459f09fb]
reverse link Issues(Persistent) to AllsemblyServer--><path codeLine="138" d="M661.818,1025.663 C636.643,1048.134 608.802,1077.314 591,1109 C560.427,1163.416 526.554,1322.479 506.023,1430.594 " fill="none" id="Issues(Persistent)-backto-AllsemblyServer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="671.673,1017.078,664.5214,1018.0026,662.6243,1024.9597,669.7759,1024.0351,671.673,1017.078" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="592" y="1257.5669">«create»</text><!--MD5=[08a87913b13f6985c58122afb7333e36]
reverse link IssueQueue to AllsemblyServer--><path codeLine="139" d="M675.985,1306.471 C647.413,1341.324 608.891,1388.314 574.081,1430.776 " fill="none" id="IssueQueue-backto-AllsemblyServer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="684.518,1296.062,677.6207,1298.166,676.91,1305.342,683.8073,1303.238,684.518,1296.062" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="611" y="1397.0669">«create»</text><!--MD5=[0b03049b679a9a9fb4436e1a44bf80e0]
reverse link Issues(Persistent) to IssueQueue--><path codeLine="140" d="M719,1030.308 C719,1081.632 719,1161.163 719,1209.713 " fill="none" id="Issues(Persistent)-backto-IssueQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="719,1017.267,715,1023.267,719,1029.267,723,1023.267,719,1017.267" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[273312d1a36674743908aa8f0f07d54a]
reverse link _UserAuthenticator to AllsemblyServer--><path codeLine="141" d="M1480.98,1348.419 C1476.69,1350.445 1472.35,1352.315 1468,1354 C1297.73,1419.902 822.418,1370.934 650,1431 C635.018,1436.219 620.043,1443.095 605.577,1450.843 " fill="none" id="_UserAuthenticator-backto-AllsemblyServer" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1485.63,1346.161,1475.7869,1346.4963,1481.1327,1348.3461,1479.283,1353.692,1485.63,1346.161" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1303" y="1397.0669">«create»</text><!--MD5=[3953aa260a4a9f2983401d8433039474]
reverse link _UserAuthenticator to UserAuth(Persistent)--><path codeLine="163" d="M1728.47,1292.037 C1815.79,1321.699 1931.7,1368.392 2022,1431 C2047.47,1448.659 2071.46,1473.689 2089.56,1494.993 " fill="none" id="_UserAuthenticator-backto-UserAuth(Persistent)" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#FFFFFF" points="1716.07,1287.874,1720.4827,1293.5773,1727.4445,1291.6976,1723.0318,1285.9943,1716.07,1287.874" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1724.07" y="1286.7961">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="2059.5571" y="1483.9879">0..*</text><!--MD5=[b0e6c82e1d97f5998853d38f246af6a8]
reverse link _UserAuthenticator to UserInfo(Persistent)--><path codeLine="164" d="M1711.85,1363.306 C1752.98,1403.864 1797.89,1448.148 1832.07,1481.851 " fill="none" id="_UserAuthenticator-backto-UserInfo(Persistent)" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#FFFFFF" points="1702.59,1354.173,1704.0536,1361.234,1711.1344,1362.5987,1709.6708,1355.5377,1702.59,1354.173" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1701.1468" y="1373.5574">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="1800.4305" y="1470.7699">0..*</text><!--MD5=[5fa1ae6ccfe73e18fa21b2bd153defea]
reverse link UserInfo(Persistent) to UserClientSettings(Persistent)--><path codeLine="165" d="M1888,1607.355 C1888,1641.651 1888,1681.415 1888,1707.8751 " fill="none" id="UserInfo(Persistent)-backto-UserClientSettings(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1888,1594.03,1884,1600.03,1888,1606.03,1892,1600.03,1888,1594.03" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[14862b5907907cbdca977c8d17e54c33]
reverse link Issues(Persistent) to GraphRequest--><path codeLine="168" d="M747.389,1028.491 C779.358,1081.97 830.598,1167.686 859.448,1215.948 " fill="none" id="Issues(Persistent)-backto-GraphRequest" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="740.68,1017.267,740.3251,1024.4694,746.8369,1027.5671,747.1918,1020.3648,740.68,1017.267" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a7ec71d4e795dfc5389ebaef5a29474f]
reverse link GraphRequest to AllsemblyServices--><path codeLine="171" d="M919.149,1300.199 C934.719,1317.877 953.415,1337.694 972,1354 C1018.31,1394.631 1073.77,1434.356 1121.8,1466.355 " fill="none" id="GraphRequest-backto-AllsemblyServices" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="910.367,1290.081,911.2787,1297.2342,918.2324,1299.1439,917.3207,1291.9906,910.367,1290.081" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8ce2c6fb08030a5cad52e3e84e233664]
reverse link LedgerRequest to AllsemblyServices--><path codeLine="172" d="M1364.77,1295.386 C1341.22,1339.238 1303.54,1409.389 1274.84,1462.831 " fill="none" id="LedgerRequest-backto-AllsemblyServices" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1371.02,1283.751,1364.6576,1287.1451,1365.3435,1294.3235,1371.7059,1290.9294,1371.02,1283.751" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1d99430b7a53053cf69e86b3c9ba54ee]
reverse link _UserAuthenticator to AllsemblyServices--><path codeLine="173" d="M1475.61,1350.951 C1428.22,1387.597 1375.09,1428.681 1330.83,1462.903 " fill="none" id="_UserAuthenticator-backto-AllsemblyServices" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1485.95,1342.96,1478.7568,1343.468,1476.4591,1350.3033,1483.6523,1349.7953,1485.95,1342.96" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[daa1969c8d053a8f11ee487374618c63]
link UserServices to AllsemblyServices--><path codeLine="175" d="M1164.84,1330.175 C1177.22,1366.679 1192.13,1410.614 1205.01,1448.584 " fill="none" id="UserServices-AllsemblyServices" style="stroke:#A80036;stroke-width:1.0;"/><ellipse cx="1207.2709" cy="1455.2407" fill="#FFFFFF" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1204.7018" x2="1209.84" y1="1447.6645" y2="1462.817"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1214.8472" x2="1199.6947" y1="1452.6717" y2="1457.8098"/><polygon fill="#A80036" points="1159.95,1315.756,1159.0542,1325.564,1161.5567,1320.4908,1166.6299,1322.9933,1159.95,1315.756" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1161.5567" x2="1164.77" y1="1320.4908" y2="1329.9605"/><!--MD5=[b260ac33f56b491b7ca48171b65e93c1]
link ArgumentGraph(Persistent) to ProblogModel(Persistent)--><path codeLine="233" d="M859.111,734.06 C910.895,783.05 968.552,837.605 1016.29,882.767 " fill="none" id="ArgumentGraph(Persistent)-to-ProblogModel(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1026,891.962,1024.3936,884.9321,1017.2866,883.7112,1018.893,890.7411,1026,891.962" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4a1121c0e8e88b35d3ce8ea98009d09e]
reverse link BettingMarket(Persistent) to BettingExchange(Persistent)--><path codeLine="234" d="M373.477,650.9 C372.605,733.19 370.888,895.225 370.248,955.599 " fill="none" id="BettingMarket(Persistent)-backto-BettingExchange(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="373.616,637.7,369.5569,643.6601,373.4973,649.6994,377.5565,643.7393,373.616,637.7" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="348.6477" y="657.2137">1..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="361.3334" y="944.9062">1</text><!--MD5=[cdb3a95bc9a0231c8b51eef72175e261]
reverse link OrderBook(Persistent) to BettingMarket(Persistent)--><path codeLine="235" d="M452.839,325.82 C457.726,336.94 460.081,348.83 458,361 C445.276,435.43 411.731,517.51 391.087,563.36 " fill="none" id="OrderBook(Persistent)-backto-BettingMarket(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="446.633,314.09,445.9062,321.2644,452.2491,324.6947,452.9759,317.5203,446.633,314.09" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d9da72398c94f95b9daad216cecb2e44]
reverse link IndependentBid(orAsk) to OrderBook(Persistent)--><path codeLine="237" d="M304.315,110.09 C291.647,121.27 284.659,134.92 291,151 C298.344,169.62 310.674,186.9 324.186,201.88 " fill="none" id="IndependentBid(orAsk)-backto-OrderBook(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="314.984,102.02,307.7856,102.4485,305.4126,109.2579,312.6109,108.8294,314.984,102.02" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="292" y="147.0669">support_bids (or _asks)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="274.3463" y="121.9624">0..*</text><!--MD5=[d9da72398c94f95b9daad216cecb2e44]
reverse link IndependentBid(orAsk) to OrderBook(Persistent)--><path codeLine="238" d="M433.264,112.17 C438.45,118.92 442.966,126.26 446,134 C454.823,156.5 447.481,180.8 435.553,201.82 " fill="none" id="IndependentBid(orAsk)-backto-OrderBook(Persistent)-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="424.68,102.1,425.5259,109.2613,432.4617,111.2349,431.6158,104.0736,424.68,102.1" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="451" y="147.0669">oppose_bids (or _asks)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="406.6671" y="122.0589">0..*</text><!--MD5=[bf745e43b4d4f2c825d77cc90e175de0]
link Ledger(Persistent) to BettingContract(Persistent)--><path codeLine="240" d="M148.058,314.25 C144.355,323.96 141.106,334.13 139,344 C125.679,406.47 125.76,479.48 128.381,531.42 " fill="none" id="Ledger(Persistent)-to-BettingContract(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="129.116,544.49,132.7735,538.2753,128.4435,532.5089,124.786,538.7236,129.116,544.49" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="120.3729" y="334.0931">0..*</text><!--MD5=[89010e35e3ef96c66a7132f4312e8682]
reverse link Ledger(Persistent) to BettingMarket(Persistent)--><path codeLine="241" d="M161.359,327.3 C162.081,339.33 165.106,351.14 172,361 C194.232,392.81 224.31,366.01 254,391 C309.599,437.8 345.055,517.3 362.065,563.43 " fill="none" id="Ledger(Persistent)-backto-BettingMarket(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="161.404,314.24,157.3842,320.2268,161.3644,326.2399,165.3842,320.2532,161.404,314.24" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="173" y="357.0669">support_ledger_ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="151.2595" y="334.0819">1</text><!--MD5=[89010e35e3ef96c66a7132f4312e8682]
reverse link Ledger(Persistent) to BettingMarket(Persistent)--><path codeLine="242" d="M260.475,306.59 C274.521,317.42 287.797,329.94 298,344 C346.915,411.43 364.617,510.35 370.816,563.14 " fill="none" id="Ledger(Persistent)-backto-BettingMarket(Persistent)-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="249.623,298.65,252.1006,305.4221,259.3047,305.7398,256.8271,298.9677,249.623,298.65" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="308" y="357.0669">oppose_ledger_ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="257.731" y="299.1411">1</text><!--MD5=[35bf3b28645e1340655272a9502fd3c5]
link ArgumentGraph(Persistent) to BettingExchange(Persistent)--><path codeLine="244" d="M578.808,753.14 C512.836,824.5 440.053,903.227 400.214,946.319 " fill="none" id="ArgumentGraph(Persistent)-to-BettingExchange(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="391.288,955.974,398.2983,954.284,399.4345,947.1629,392.4242,948.853,391.288,955.974" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1084" y="1803.9951">Figure 1</text><!--MD5=[90a2ae20b9164588013410b2a010d474]
@startuml
page 1x2
caption Figure 1

package allsembly.py {
class AllsemblyServer {
-userauth_dbfilename: str
-user_dbfilename: str
-arg_dbfilename: str
-order_queue: deque[Tuple]
-graph_arg_queue: deque[Tuple]
-graph_pos_queue: deque[Tuple]
+process_all_issues_from_queue()
+process_all_orders_from_queue()
+process_all_positions_from_queue()
+process_all_items_from_all_queues()
+process_all_items_of_one_request()
+cleanup()
+server_main_loop()
}

class ServerControl {
- _should_exit: int
+ should_exit()
+ set_should_exit()
+ reset_should_exit()
}
}

ServerControl o.. AllsemblyServer


package rpyc_server.py {
class IssueQueue {
- queue: deque
+ add_issue()
+ delete_issue()
}

class GraphRequest {
+ draw()
+ get_position_details()
}

class LedgerRequest {
{field} (unused)
}

class _UserAuthenticator {
- userauth_dbfilename: str
- user_dbfilename: str
- authdb_storage: ZODB..FileStorage
- userdb_storage: ZODB..FileStorage
- authdb: ZODB.DB
- userdb: ZODB.DB
- authdb_conn: ZODB..Connection
- userdb_conn: ZODB..Connection
- _fernet_cryptor: bytes
- {field} userid_salt (unused)
+ authenticate_user()
+ close_databases()
}

class "AllsemblyServices(rpyc.Service)" as AllsemblyServices {
- order_queue: deque[Tuple]
- graph_arg_queue: deque[Tuple]
- graph_pos_queue: deque[Tuple]
+ on_connect()
+ on_disconnect()
+ exposed_get_user_services()
+ exposed_authenticate_user()
- _add_issue()
}

class UserServices {
+ check_commitments_for_consistency() (unused)
+ delete_issue()
+ argue()
+ propose()
+ get_arg_graph()
+ get_position_details()
}
}

package argument_graph.py {
class Issues(Persistent) {
+ graphs: OOBTree
+ next_issue_id: AtomicLong
}

class ArgumentGraph(Persistent) {
- {static} _v_my_rwlock: RWLockWrite
- _v_my_wlock
- _v_my_rlock
+ issue_name: str
- arg_node_index: PersistentMapping
- pos_node_index: PersistentMapping
- next_arg_id: AtomicLong
- next_pos_id: AtomicLong
- read_buffer_index: int
- write_buffer_index: int
- /_v_gv_graph: AGraph
- /my_problog_prog: str
- /_v_my_g_svg: list[str]
- _add_position_to_gv_graph()
- _add_argument_to_gv_graph()
- _update_gv_graph_nodes()
- _build_initial_gv_graph()
- _add_clause_to_problog_program()
- _add_virtual_evidence_to_problog_program()
- _add_term_and_query_to_problog_program()
- _build_problog_program()
- _problog_calculate()
+ get_problog_program_string()
+ add_argument()
+ get_position_copy()
+ add_position()
+ hide_arguement() (unused)
- _prepare_graph()
+ draw_graph()
}


class PositionNode(Persistent) {
{field} ... (dataclass)
{static} build_PositionNode()
}

class ArgumentNode(Persistent) {
{field} ... (dataclass)
{static} build_ArgumentNode()
}
}

"ArgumentGraph(Persistent)" "1..*" *- - "1" "Issues(Persistent)"
"PositionNode(Persistent)" "0..*" *- - "1" "ArgumentGraph(Persistent)"
"ArgumentNode(Persistent)" "0..*" *- - "1" "ArgumentGraph(Persistent)"

"Issues(Persistent)" *- - AllsemblyServer: <<create>>
IssueQueue *- - AllsemblyServer: <<create>>
"Issues(Persistent)" o- - IssueQueue
_UserAuthenticator <.. AllsemblyServer: <<create>>

package user.py {
class UserAuth(Persistent) {
userid_hashed: bytes
password_hashed: bytes
pwd_salt: bytes
}

class UserInfo(Persistent) {
userid_hashed: bytes
last_login: int
{field} current_isssue: int (unused)
{field} current_subuser: str (unused)
{field} subusers: PersistentMapping (unused)
}

class UserClientSettings(Persistent) {
{field} (unused)
}
}

_UserAuthenticator "1" o.. "0..*" "UserAuth(Persistent)"
_UserAuthenticator "1" o.. "0..*" "UserInfo(Persistent)"
"UserInfo(Persistent)" *- - "UserClientSettings(Persistent)"


"Issues(Persistent)" o- - GraphRequest


GraphRequest o- - AllsemblyServices
LedgerRequest o- - AllsemblyServices
_UserAuthenticator o- - AllsemblyServices

UserServices <- -+ AllsemblyServices

package prob_logic.py {
class ProblogModel(Persistent) {
- {static} _v_my_rwlock: RWLockWrite
- _v_my_wlock
- _v_my_rlock
- _read_buffer_index: int
- _write_buffer_index: int
- _problog_queuy_results
- __setstate__()
+ calculate_marginals()
+ add_terms() (unused)
+ update_term_weights() (unused)
}
}

package speech_act.py {
class IndependentBid(orAsk) {
{field} ... (future fields)
}
}

package betting_exchange.py {
class BettingExchange(Persistent) {
}

class BettingMarket(Persistent) {
+ last_support_price: float
+ {field} market_id: int (same as arg_id)
}

class OrderBook(Persistent) {
- support_bids_index
- oppose_bids_index
- support_asks_index
- oppose_asks_index
+ ... () (future methods)
}

class Ledger(Persistent) {
+ index: OOBTree
==
I think there should
be only one Ledger
object (not one per
exchange)
}

class BettingContract(Persistent) {
+ {field} user1_anonid: bytes
+ {field} user2_anonid: bytes
+ purchase_price: float
+ position_locator
...
}
}

"ArgumentGraph(Persistent)" - -* "ProblogModel(Persistent)"
"BettingMarket(Persistent)" "1..*" *- - "1" "BettingExchange(Persistent)"
"OrderBook(Persistent)" *- - "BettingMarket(Persistent)"

"IndependentBid(orAsk)" "0..*" *- - "OrderBook(Persistent)": support_bids (or _asks)
"IndependentBid(orAsk)" "0..*" *- - "OrderBook(Persistent)": oppose_bids (or _asks)

"Ledger(Persistent)" "0..*" - -* "BettingContract(Persistent)"
"Ledger(Persistent)" "1" o- - "BettingMarket(Persistent)": support_ledger_ref
"Ledger(Persistent)" "1" o- - "BettingMarket(Persistent)": oppose_ledger_ref

"ArgumentGraph(Persistent)" - -* "BettingExchange(Persistent)"
@enduml

PlantUML version 1.2021.5(Sun Apr 25 11:20:28 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>