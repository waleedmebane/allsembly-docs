<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1611px" preserveAspectRatio="none" style="width:1484px;height:1611px;" version="1.1" viewBox="0 0 1484 1611" width="1484px" zoomAndPan="magnify"><defs><filter height="300%" id="f13tfovk2d0xvb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5bde45c25d2041782af0390440598829]
cluster allsembly.py--><polygon fill="#FFFFFF" filter="url(#f13tfovk2d0xvb)" points="352,1130,455,1130,462,1152.2969,622,1152.2969,622,1584,352,1584,352,1130" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="352" x2="462" y1="1152.2969" y2="1152.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="356" y="1144.9951">allsembly.py</text><!--MD5=[61505cd7f18ccd0cfa67bf5a932b1c69]
cluster rpyc_server.py--><polygon fill="#FFFFFF" filter="url(#f13tfovk2d0xvb)" points="650,1117,774,1117,781,1139.2969,1467,1139.2969,1467,1552,650,1552,650,1117" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="650" x2="781" y1="1139.2969" y2="1139.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="118" x="654" y="1131.9951">rpyc_server.py</text><!--MD5=[f85f5139c19c42939c3f4eb2eab59dc0]
cluster argument_graph.py--><polygon fill="#FFFFFF" filter="url(#f13tfovk2d0xvb)" points="516,186,675,186,682,208.2969,973,208.2969,973,1033,516,1033,516,186" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="516" x2="682" y1="208.2969" y2="208.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="153" x="520" y="200.9951">argument_graph.py</text><!--MD5=[b3e763bef726cff41edbdc7dd56f3482]
cluster prob_logic.py--><polygon fill="#FFFFFF" filter="url(#f13tfovk2d0xvb)" points="997,857,1108,857,1115,879.2969,1239,879.2969,1239,1084,997,1084,997,857" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="997" x2="1115" y1="879.2969" y2="879.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105" x="1001" y="871.9951">prob_logic.py</text><!--MD5=[bb87df7050dfb4a224a269a405ef2357]
cluster speech_act.py--><polygon fill="#FFFFFF" filter="url(#f13tfovk2d0xvb)" points="285,6,404,6,411,28.2969,493,28.2969,493,118,285,118,285,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="285" x2="411" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113" x="289" y="20.9951">speech_act.py</text><!--MD5=[3fc63066f9a8756af46b49702ef02b2a]
cluster betting_exchange.py--><polygon fill="#FFFFFF" filter="url(#f13tfovk2d0xvb)" points="16,167,186,167,193,189.2969,492,189.2969,492,1020,16,1020,16,167" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="193" y1="189.2969" y2="189.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="164" x="20" y="181.9951">betting_exchange.py</text><!--MD5=[016d320e882ad9b057e5c379365b2ed4]
class AllsemblyServer--><rect codeLine="5" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="214.4609" id="AllsemblyServer" style="stroke:#A80036;stroke-width:1.5;" width="237" x="368.5" y="1354"/><ellipse cx="434.25" cy="1370" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M437.2188,1375.6406 Q436.6406,1375.9375 436,1376.0781 Q435.3594,1376.2344 434.6563,1376.2344 Q432.1563,1376.2344 430.8281,1374.5938 Q429.5156,1372.9375 429.5156,1369.8125 Q429.5156,1366.6875 430.8281,1365.0313 Q432.1563,1363.375 434.6563,1363.375 Q435.3594,1363.375 436,1363.5313 Q436.6563,1363.6875 437.2188,1363.9844 L437.2188,1366.7031 Q436.5938,1366.125 436,1365.8594 Q435.4063,1365.5781 434.7813,1365.5781 Q433.4375,1365.5781 432.75,1366.6563 Q432.0625,1367.7188 432.0625,1369.8125 Q432.0625,1371.9063 432.75,1372.9844 Q433.4375,1374.0469 434.7813,1374.0469 Q435.4063,1374.0469 436,1373.7813 Q436.5938,1373.5 437.2188,1372.9219 L437.2188,1375.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="454.75" y="1374.1543">AllsemblyServer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="369.5" x2="604.5" y1="1386" y2="1386"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1394"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="388.5" y="1400.2104">userauth_dbfilename: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1406.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="388.5" y="1413.0151">user_dbfilename: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1419.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="388.5" y="1425.8198">arg_dbfilename: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1432.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="388.5" y="1438.6245">order_queue: deque[Tuple]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1445.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="181" x="388.5" y="1451.4292">graph_arg_queue: deque[Tuple]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376.5" y="1458.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="388.5" y="1464.2339">graph_pos_queue: deque[Tuple]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="369.5" x2="604.5" y1="1470.8281" y2="1470.8281"/><ellipse cx="379.5" cy="1481.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="388.5" y="1485.0386">process_all_issues_from_queue()</text><ellipse cx="379.5" cy="1494.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="388.5" y="1497.8433">process_all_orders_from_queue()</text><ellipse cx="379.5" cy="1507.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="388.5" y="1510.6479">process_all_positions_from_queue()</text><ellipse cx="379.5" cy="1520.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="211" x="388.5" y="1523.4526">process_all_items_from_all_queues()</text><ellipse cx="379.5" cy="1533.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="388.5" y="1536.2573">process_all_items_of_one_request()</text><ellipse cx="379.5" cy="1545.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="388.5" y="1549.062">cleanup()</text><ellipse cx="379.5" cy="1558.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="388.5" y="1561.8667">server_main_loop()</text><!--MD5=[d8d3485db958081f7d80e71b46c502bf]
class ServerControl--><rect codeLine="21" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="99.2188" id="ServerControl" style="stroke:#A80036;stroke-width:1.5;" width="134" x="368" y="1165"/><ellipse cx="390.65" cy="1181" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M393.6188,1186.6406 Q393.0406,1186.9375 392.4,1187.0781 Q391.7594,1187.2344 391.0563,1187.2344 Q388.5563,1187.2344 387.2281,1185.5938 Q385.9156,1183.9375 385.9156,1180.8125 Q385.9156,1177.6875 387.2281,1176.0313 Q388.5563,1174.375 391.0563,1174.375 Q391.7594,1174.375 392.4,1174.5313 Q393.0563,1174.6875 393.6188,1174.9844 L393.6188,1177.7031 Q392.9938,1177.125 392.4,1176.8594 Q391.8063,1176.5781 391.1813,1176.5781 Q389.8375,1176.5781 389.15,1177.6563 Q388.4625,1178.7188 388.4625,1180.8125 Q388.4625,1182.9063 389.15,1183.9844 Q389.8375,1185.0469 391.1813,1185.0469 Q391.8063,1185.0469 392.4,1184.7813 Q392.9938,1184.5 393.6188,1183.9219 L393.6188,1186.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85" x="406.35" y="1185.1543">ServerControl</text><line style="stroke:#A80036;stroke-width:1.5;" x1="369" x2="501" y1="1197" y2="1197"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="376" y="1205"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="388" y="1211.2104">_should_exit: int</text><line style="stroke:#A80036;stroke-width:1.5;" x1="369" x2="501" y1="1217.8047" y2="1217.8047"/><ellipse cx="379" cy="1228.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="388" y="1232.0151">should_exit()</text><ellipse cx="379" cy="1241.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="388" y="1244.8198">set_should_exit()</text><ellipse cx="379" cy="1254.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="108" x="388" y="1257.6245">reset_should_exit()</text><!--MD5=[888cc55037f1ff3a80f1690d9a2c6ae4]
class IssueQueue--><rect codeLine="33" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="86.4141" id="IssueQueue" style="stroke:#A80036;stroke-width:1.5;" width="106" x="666" y="1171.5"/><ellipse cx="681" cy="1187.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M683.9688,1193.1406 Q683.3906,1193.4375 682.75,1193.5781 Q682.1094,1193.7344 681.4063,1193.7344 Q678.9063,1193.7344 677.5781,1192.0938 Q676.2656,1190.4375 676.2656,1187.3125 Q676.2656,1184.1875 677.5781,1182.5313 Q678.9063,1180.875 681.4063,1180.875 Q682.1094,1180.875 682.75,1181.0313 Q683.4063,1181.1875 683.9688,1181.4844 L683.9688,1184.2031 Q683.3438,1183.625 682.75,1183.3594 Q682.1563,1183.0781 681.5313,1183.0781 Q680.1875,1183.0781 679.5,1184.1563 Q678.8125,1185.2188 678.8125,1187.3125 Q678.8125,1189.4063 679.5,1190.4844 Q680.1875,1191.5469 681.5313,1191.5469 Q682.1563,1191.5469 682.75,1191.2813 Q683.3438,1191 683.9688,1190.4219 L683.9688,1193.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="695" y="1191.6543">IssueQueue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="667" x2="771" y1="1203.5" y2="1203.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="674" y="1211.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="686" y="1217.7104">queue: deque</text><line style="stroke:#A80036;stroke-width:1.5;" x1="667" x2="771" y1="1224.3047" y2="1224.3047"/><ellipse cx="677" cy="1235.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="686" y="1238.5151">add_issue()</text><ellipse cx="677" cy="1248.1094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="686" y="1251.3198">delete_issue()</text><!--MD5=[1f6ab8b135da9963291ac7f46ae2a01a]
class GraphRequest--><rect codeLine="39" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="73.6094" id="GraphRequest" style="stroke:#A80036;stroke-width:1.5;" width="147" x="807.5" y="1177.5"/><ellipse cx="833.75" cy="1193.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M836.7188,1199.1406 Q836.1406,1199.4375 835.5,1199.5781 Q834.8594,1199.7344 834.1563,1199.7344 Q831.6563,1199.7344 830.3281,1198.0938 Q829.0156,1196.4375 829.0156,1193.3125 Q829.0156,1190.1875 830.3281,1188.5313 Q831.6563,1186.875 834.1563,1186.875 Q834.8594,1186.875 835.5,1187.0313 Q836.1563,1187.1875 836.7188,1187.4844 L836.7188,1190.2031 Q836.0938,1189.625 835.5,1189.3594 Q834.9063,1189.0781 834.2813,1189.0781 Q832.9375,1189.0781 832.25,1190.1563 Q831.5625,1191.2188 831.5625,1193.3125 Q831.5625,1195.4063 832.25,1196.4844 Q832.9375,1197.5469 834.2813,1197.5469 Q834.9063,1197.5469 835.5,1197.2813 Q836.0938,1197 836.7188,1196.4219 L836.7188,1199.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="850.25" y="1197.6543">GraphRequest</text><line style="stroke:#A80036;stroke-width:1.5;" x1="808.5" x2="953.5" y1="1209.5" y2="1209.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="808.5" x2="953.5" y1="1217.5" y2="1217.5"/><ellipse cx="818.5" cy="1228.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="827.5" y="1231.7104">draw()</text><ellipse cx="818.5" cy="1241.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="827.5" y="1244.5151">get_position_details()</text><!--MD5=[37abfbc56d0d571c825fbcfe542f9d2c]
class LedgerRequest--><rect codeLine="44" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="60.8047" id="LedgerRequest" style="stroke:#A80036;stroke-width:1.5;" width="127" x="1323.5" y="1184"/><ellipse cx="1338.5" cy="1200" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1341.4688,1205.6406 Q1340.8906,1205.9375 1340.25,1206.0781 Q1339.6094,1206.2344 1338.9063,1206.2344 Q1336.4063,1206.2344 1335.0781,1204.5938 Q1333.7656,1202.9375 1333.7656,1199.8125 Q1333.7656,1196.6875 1335.0781,1195.0313 Q1336.4063,1193.375 1338.9063,1193.375 Q1339.6094,1193.375 1340.25,1193.5313 Q1340.9063,1193.6875 1341.4688,1193.9844 L1341.4688,1196.7031 Q1340.8438,1196.125 1340.25,1195.8594 Q1339.6563,1195.5781 1339.0313,1195.5781 Q1337.6875,1195.5781 1337,1196.6563 Q1336.3125,1197.7188 1336.3125,1199.8125 Q1336.3125,1201.9063 1337,1202.9844 Q1337.6875,1204.0469 1339.0313,1204.0469 Q1339.6563,1204.0469 1340.25,1203.7813 Q1340.8438,1203.5 1341.4688,1202.9219 L1341.4688,1205.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="1352.5" y="1204.1543">LedgerRequest</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1324.5" x2="1449.5" y1="1216" y2="1216"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="1329.5" y="1230.2104">(unused)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1324.5" x2="1449.5" y1="1236.8047" y2="1236.8047"/><!--MD5=[841c62c0667c9deb1c7091e6533bcde9]
class AllsemblyServices--><rect codeLine="49" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="150.4375" id="AllsemblyServices" style="stroke:#A80036;stroke-width:1.5;" width="226" x="1026" y="1386"/><ellipse cx="1041" cy="1402" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1043.9688,1407.6406 Q1043.3906,1407.9375 1042.75,1408.0781 Q1042.1094,1408.2344 1041.4063,1408.2344 Q1038.9063,1408.2344 1037.5781,1406.5938 Q1036.2656,1404.9375 1036.2656,1401.8125 Q1036.2656,1398.6875 1037.5781,1397.0313 Q1038.9063,1395.375 1041.4063,1395.375 Q1042.1094,1395.375 1042.75,1395.5313 Q1043.4063,1395.6875 1043.9688,1395.9844 L1043.9688,1398.7031 Q1043.3438,1398.125 1042.75,1397.8594 Q1042.1563,1397.5781 1041.5313,1397.5781 Q1040.1875,1397.5781 1039.5,1398.6563 Q1038.8125,1399.7188 1038.8125,1401.8125 Q1038.8125,1403.9063 1039.5,1404.9844 Q1040.1875,1406.0469 1041.5313,1406.0469 Q1042.1563,1406.0469 1042.75,1405.7813 Q1043.3438,1405.5 1043.9688,1404.9219 L1043.9688,1407.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194" x="1055" y="1406.1543">AllsemblyServices(rpyc.Service)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1027" x2="1251" y1="1418" y2="1418"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1034" y="1426"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="1046" y="1432.2104">order_queue: deque[Tuple]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1034" y="1438.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="181" x="1046" y="1445.0151">graph_arg_queue: deque[Tuple]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1034" y="1451.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="1046" y="1457.8198">graph_pos_queue: deque[Tuple]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1027" x2="1251" y1="1464.4141" y2="1464.4141"/><ellipse cx="1037" cy="1475.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="1046" y="1478.6245">on_connect()</text><ellipse cx="1037" cy="1488.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="1046" y="1491.4292">on_disconnect()</text><ellipse cx="1037" cy="1501.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="1046" y="1504.2339">exposed_get_user_services()</text><ellipse cx="1037" cy="1513.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="164" x="1046" y="1517.0386">exposed_authenticate_user()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1034" y="1523.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="1046" y="1529.8433">_add_issue()</text><!--MD5=[c27a7437622705ce0b5a12223313eb8a]
class UserServices--><rect codeLine="60" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="124.8281" id="UserServices" style="stroke:#A80036;stroke-width:1.5;" width="299" x="989.5" y="1152"/><ellipse cx="1094.25" cy="1168" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1097.2188,1173.6406 Q1096.6406,1173.9375 1096,1174.0781 Q1095.3594,1174.2344 1094.6563,1174.2344 Q1092.1563,1174.2344 1090.8281,1172.5938 Q1089.5156,1170.9375 1089.5156,1167.8125 Q1089.5156,1164.6875 1090.8281,1163.0313 Q1092.1563,1161.375 1094.6563,1161.375 Q1095.3594,1161.375 1096,1161.5313 Q1096.6563,1161.6875 1097.2188,1161.9844 L1097.2188,1164.7031 Q1096.5938,1164.125 1096,1163.8594 Q1095.4063,1163.5781 1094.7813,1163.5781 Q1093.4375,1163.5781 1092.75,1164.6563 Q1092.0625,1165.7188 1092.0625,1167.8125 Q1092.0625,1169.9063 1092.75,1170.9844 Q1093.4375,1172.0469 1094.7813,1172.0469 Q1095.4063,1172.0469 1096,1171.7813 Q1096.5938,1171.5 1097.2188,1170.9219 L1097.2188,1173.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="1114.75" y="1172.1543">UserServices</text><line style="stroke:#A80036;stroke-width:1.5;" x1="990.5" x2="1287.5" y1="1184" y2="1184"/><line style="stroke:#A80036;stroke-width:1.5;" x1="990.5" x2="1287.5" y1="1192" y2="1192"/><ellipse cx="1000.5" cy="1203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="273" x="1009.5" y="1206.2104">check_commitments_for_consistency() (unused)</text><ellipse cx="1000.5" cy="1215.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="1009.5" y="1219.0151">delete_issue()</text><ellipse cx="1000.5" cy="1228.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="1009.5" y="1231.8198">argue()</text><ellipse cx="1000.5" cy="1241.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="1009.5" y="1244.6245">propose()</text><ellipse cx="1000.5" cy="1254.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="1009.5" y="1257.4292">get_arg_graph()</text><ellipse cx="1000.5" cy="1267.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="1009.5" y="1270.2339">get_position_details()</text><!--MD5=[a516bff407155c76e42a205ce7fbb80e]
class Issues(Persistent)--><rect codeLine="71" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="73.6094" id="Issues(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="176" x="631" y="943"/><ellipse cx="659.5" cy="959" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M662.4688,964.6406 Q661.8906,964.9375 661.25,965.0781 Q660.6094,965.2344 659.9063,965.2344 Q657.4063,965.2344 656.0781,963.5938 Q654.7656,961.9375 654.7656,958.8125 Q654.7656,955.6875 656.0781,954.0313 Q657.4063,952.375 659.9063,952.375 Q660.6094,952.375 661.25,952.5313 Q661.9063,952.6875 662.4688,952.9844 L662.4688,955.7031 Q661.8438,955.125 661.25,954.8594 Q660.6563,954.5781 660.0313,954.5781 Q658.6875,954.5781 658,955.6563 Q657.3125,956.7188 657.3125,958.8125 Q657.3125,960.9063 658,961.9844 Q658.6875,963.0469 660.0313,963.0469 Q660.6563,963.0469 661.25,962.7813 Q661.8438,962.5 662.4688,961.9219 L662.4688,964.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="676.5" y="963.1543">Issues(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="632" x2="806" y1="975" y2="975"/><ellipse cx="642" cy="986" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="651" y="989.2104">graphs: OOBTree</text><ellipse cx="642" cy="998.8047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="150" x="651" y="1002.0151">next_issue_id: AtomicLong</text><line style="stroke:#A80036;stroke-width:1.5;" x1="632" x2="806" y1="1008.6094" y2="1008.6094"/><!--MD5=[4efd88d5898a5db838a5c3f68dec1c7e]
class ArgumentGraph(Persistent)--><rect codeLine="76" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="419.3359" id="ArgumentGraph(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="280" x="579" y="391"/><ellipse cx="628.25" cy="407" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M631.2188,412.6406 Q630.6406,412.9375 630,413.0781 Q629.3594,413.2344 628.6563,413.2344 Q626.1563,413.2344 624.8281,411.5938 Q623.5156,409.9375 623.5156,406.8125 Q623.5156,403.6875 624.8281,402.0313 Q626.1563,400.375 628.6563,400.375 Q629.3594,400.375 630,400.5313 Q630.6563,400.6875 631.2188,400.9844 L631.2188,403.7031 Q630.5938,403.125 630,402.8594 Q629.4063,402.5781 628.7813,402.5781 Q627.4375,402.5781 626.75,403.6563 Q626.0625,404.7188 626.0625,406.8125 Q626.0625,408.9063 626.75,409.9844 Q627.4375,411.0469 628.7813,411.0469 Q629.4063,411.0469 630,410.7813 Q630.5938,410.5 631.2188,409.9219 L631.2188,412.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="648.75" y="411.1543">ArgumentGraph(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="580" x2="858" y1="423" y2="423"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="431"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="154" x="599" y="437.2104">_v_my_rwlock: RWLockWrite</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="443.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="599" y="450.0151">_v_my_wlock</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="456.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="599" y="462.8198">_v_my_rlock</text><ellipse cx="590" cy="472.4141" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="599" y="475.6245">issue_name: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="482.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="599" y="488.4292">arg_node_index: PersistentMapping</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="495.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="599" y="501.2339">pos_node_index: PersistentMapping</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="507.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="599" y="514.0386">next_arg_id: AtomicLong</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="520.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="599" y="526.8433">next_pos_id: AtomicLong</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="533.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="599" y="539.6479">read_buffer_index: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="546.2422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="599" y="552.4526">write_buffer_index: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="559.0469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="599" y="565.2573">/_v_gv_graph: AGraph</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="571.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="599" y="578.062">/my_problog_prog: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="584.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="599" y="590.8667">/_v_my_g_svg: list[str]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="580" x2="858" y1="597.4609" y2="597.4609"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="605.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="599" y="611.6714">_add_position_to_gv_graph()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="618.2656"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="171" x="599" y="624.4761">_add_argument_to_gv_graph()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="631.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="599" y="637.2808">_update_gv_graph_nodes()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="643.875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="599" y="650.0854">_build_initial_gv_graph()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="656.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="199" x="599" y="662.8901">_add_clause_to_problog_program()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="669.4844"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="253" x="599" y="675.6948">_add_virtual_evidence_to_problog_program()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="682.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="254" x="599" y="688.4995">_add_term_and_query_to_problog_program()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="695.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="599" y="701.3042">_build_problog_program()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="707.8984"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="599" y="714.1089">_problog_calculate()</text><ellipse cx="590" cy="723.7031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="599" y="726.9136">get_problog_program_string()</text><ellipse cx="590" cy="736.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="599" y="739.7183">add_argument()</text><ellipse cx="590" cy="749.3125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="599" y="752.5229">get_position_copy()</text><ellipse cx="590" cy="762.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="599" y="765.3276">add_position()</text><ellipse cx="590" cy="774.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="599" y="778.1323">hide_arguement() (unused)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="587" y="784.7266"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="599" y="790.937">_prepare_graph()</text><ellipse cx="590" cy="800.5313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="599" y="803.7417">draw_graph()</text><!--MD5=[a592d4447b4b7ca252bb4539f928d356]
class PositionNode(Persistent)--><rect codeLine="109" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="73.6094" id="PositionNode(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="189" x="767.5" y="221"/><ellipse cx="782.5" cy="237" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M785.4688,242.6406 Q784.8906,242.9375 784.25,243.0781 Q783.6094,243.2344 782.9063,243.2344 Q780.4063,243.2344 779.0781,241.5938 Q777.7656,239.9375 777.7656,236.8125 Q777.7656,233.6875 779.0781,232.0313 Q780.4063,230.375 782.9063,230.375 Q783.6094,230.375 784.25,230.5313 Q784.9063,230.6875 785.4688,230.9844 L785.4688,233.7031 Q784.8438,233.125 784.25,232.8594 Q783.6563,232.5781 783.0313,232.5781 Q781.6875,232.5781 781,233.6563 Q780.3125,234.7188 780.3125,236.8125 Q780.3125,238.9063 781,239.9844 Q781.6875,241.0469 783.0313,241.0469 Q783.6563,241.0469 784.25,240.7813 Q784.8438,240.5 785.4688,239.9219 L785.4688,242.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="796.5" y="241.1543">PositionNode(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="768.5" x2="955.5" y1="253" y2="253"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="773.5" y="267.2104">... (dataclass)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="768.5" x2="955.5" y1="273.8047" y2="273.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="115" x="773.5" y="288.0151">build_PositionNode()</text><!--MD5=[466d2b1bfd4597c43ed999d6a4b52366]
class ArgumentNode(Persistent)--><rect codeLine="114" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="73.6094" id="ArgumentNode(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="200" x="532" y="221"/><ellipse cx="547" cy="237" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M549.9688,242.6406 Q549.3906,242.9375 548.75,243.0781 Q548.1094,243.2344 547.4063,243.2344 Q544.9063,243.2344 543.5781,241.5938 Q542.2656,239.9375 542.2656,236.8125 Q542.2656,233.6875 543.5781,232.0313 Q544.9063,230.375 547.4063,230.375 Q548.1094,230.375 548.75,230.5313 Q549.4063,230.6875 549.9688,230.9844 L549.9688,233.7031 Q549.3438,233.125 548.75,232.8594 Q548.1563,232.5781 547.5313,232.5781 Q546.1875,232.5781 545.5,233.6563 Q544.8125,234.7188 544.8125,236.8125 Q544.8125,238.9063 545.5,239.9844 Q546.1875,241.0469 547.5313,241.0469 Q548.1563,241.0469 548.75,240.7813 Q549.3438,240.5 549.9688,239.9219 L549.9688,242.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="561" y="241.1543">ArgumentNode(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="533" x2="731" y1="253" y2="253"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="538" y="267.2104">... (dataclass)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="533" x2="731" y1="273.8047" y2="273.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="125" x="538" y="288.0151">build_ArgumentNode()</text><!--MD5=[d254301b9944b8ad94c209d5c7d31a44]
class ProblogModel(Persistent)--><rect codeLine="138" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="176.0469" id="ProblogModel(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="210" x="1013" y="892"/><ellipse cx="1036.55" cy="908" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1039.5188,913.6406 Q1038.9406,913.9375 1038.3,914.0781 Q1037.6594,914.2344 1036.9563,914.2344 Q1034.4563,914.2344 1033.1281,912.5938 Q1031.8156,910.9375 1031.8156,907.8125 Q1031.8156,904.6875 1033.1281,903.0313 Q1034.4563,901.375 1036.9563,901.375 Q1037.6594,901.375 1038.3,901.5313 Q1038.9563,901.6875 1039.5188,901.9844 L1039.5188,904.7031 Q1038.8938,904.125 1038.3,903.8594 Q1037.7063,903.5781 1037.0813,903.5781 Q1035.7375,903.5781 1035.05,904.6563 Q1034.3625,905.7188 1034.3625,907.8125 Q1034.3625,909.9063 1035.05,910.9844 Q1035.7375,912.0469 1037.0813,912.0469 Q1037.7063,912.0469 1038.3,911.7813 Q1038.8938,911.5 1039.5188,910.9219 L1039.5188,913.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159" x="1052.45" y="912.1543">ProblogModel(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1014" x2="1222" y1="924" y2="924"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="932"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="154" x="1033" y="938.2104">_v_my_rwlock: RWLockWrite</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="944.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="1033" y="951.0151">_v_my_wlock</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="957.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="1033" y="963.8198">_v_my_rlock</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="970.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="1033" y="976.6245">_read_buffer_index: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="983.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="1033" y="989.4292">_write_buffer_index: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="996.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="1033" y="1002.2339">_problog_queuy_results</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1014" x2="1222" y1="1008.8281" y2="1008.8281"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1021" y="1016.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="1033" y="1023.0386">__setstate__()</text><ellipse cx="1024" cy="1032.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="121" x="1033" y="1035.8433">calculate_marginals()</text><ellipse cx="1024" cy="1045.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="1033" y="1048.6479">add_terms() (unused)</text><ellipse cx="1024" cy="1058.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="1033" y="1061.4526">update_term_weights() (unused)</text><!--MD5=[ec781e43da3da74861fc8963ff5a8504]
class IndependentBid(orAsk)--><rect codeLine="153" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="60.8047" id="IndependentBid(orAsk)" style="stroke:#A80036;stroke-width:1.5;" width="176" x="301" y="41"/><ellipse cx="316" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M318.9688,62.6406 Q318.3906,62.9375 317.75,63.0781 Q317.1094,63.2344 316.4063,63.2344 Q313.9063,63.2344 312.5781,61.5938 Q311.2656,59.9375 311.2656,56.8125 Q311.2656,53.6875 312.5781,52.0313 Q313.9063,50.375 316.4063,50.375 Q317.1094,50.375 317.75,50.5313 Q318.4063,50.6875 318.9688,50.9844 L318.9688,53.7031 Q318.3438,53.125 317.75,52.8594 Q317.1563,52.5781 316.5313,52.5781 Q315.1875,52.5781 314.5,53.6563 Q313.8125,54.7188 313.8125,56.8125 Q313.8125,58.9063 314.5,59.9844 Q315.1875,61.0469 316.5313,61.0469 Q317.1563,61.0469 317.75,60.7813 Q318.3438,60.5 318.9688,59.9219 L318.9688,62.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="330" y="61.1543">IndependentBid(orAsk)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="302" x2="476" y1="73" y2="73"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="307" y="87.2104">... (future fields)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="302" x2="476" y1="93.8047" y2="93.8047"/><!--MD5=[69f1d98396c4b57dca524df781583e29]
class BettingExchange(Persistent)--><rect codeLine="159" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="48" id="BettingExchange(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="212" x="264" y="956"/><ellipse cx="279" cy="972" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M281.9688,977.6406 Q281.3906,977.9375 280.75,978.0781 Q280.1094,978.2344 279.4063,978.2344 Q276.9063,978.2344 275.5781,976.5938 Q274.2656,974.9375 274.2656,971.8125 Q274.2656,968.6875 275.5781,967.0313 Q276.9063,965.375 279.4063,965.375 Q280.1094,965.375 280.75,965.5313 Q281.4063,965.6875 281.9688,965.9844 L281.9688,968.7031 Q281.3438,968.125 280.75,967.8594 Q280.1563,967.5781 279.5313,967.5781 Q278.1875,967.5781 277.5,968.6563 Q276.8125,969.7188 276.8125,971.8125 Q276.8125,973.9063 277.5,974.9844 Q278.1875,976.0469 279.5313,976.0469 Q280.1563,976.0469 280.75,975.7813 Q281.3438,975.5 281.9688,974.9219 L281.9688,977.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="293" y="976.1543">BettingExchange(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="265" x2="475" y1="988" y2="988"/><line style="stroke:#A80036;stroke-width:1.5;" x1="265" x2="475" y1="996" y2="996"/><!--MD5=[724778c6a160c11038d356987be2e711]
class BettingMarket(Persistent)--><rect codeLine="162" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="73.6094" id="BettingMarket(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="205" x="271.5" y="563.5"/><ellipse cx="291.45" cy="579.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M294.4188,585.1406 Q293.8406,585.4375 293.2,585.5781 Q292.5594,585.7344 291.8563,585.7344 Q289.3563,585.7344 288.0281,584.0938 Q286.7156,582.4375 286.7156,579.3125 Q286.7156,576.1875 288.0281,574.5313 Q289.3563,572.875 291.8563,572.875 Q292.5594,572.875 293.2,573.0313 Q293.8563,573.1875 294.4188,573.4844 L294.4188,576.2031 Q293.7938,575.625 293.2,575.3594 Q292.6063,575.0781 291.9813,575.0781 Q290.6375,575.0781 289.95,576.1563 Q289.2625,577.2188 289.2625,579.3125 Q289.2625,581.4063 289.95,582.4844 Q290.6375,583.5469 291.9813,583.5469 Q292.6063,583.5469 293.2,583.2813 Q293.7938,583 294.4188,582.4219 L294.4188,585.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="162" x="306.55" y="583.6543">BettingMarket(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="272.5" x2="475.5" y1="595.5" y2="595.5"/><ellipse cx="282.5" cy="606.5" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="291.5" y="609.7104">last_support_price: float</text><ellipse cx="282.5" cy="619.3047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="291.5" y="622.5151">market_id: int (same as arg_id)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="272.5" x2="475.5" y1="629.1094" y2="629.1094"/><!--MD5=[f141c8a71f2c1b9d36e0e56ff264ed5c]
class OrderBook(Persistent)--><rect codeLine="167" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="112.0234" id="OrderBook(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="172" x="304" y="202"/><ellipse cx="319" cy="218" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M321.9688,223.6406 Q321.3906,223.9375 320.75,224.0781 Q320.1094,224.2344 319.4063,224.2344 Q316.9063,224.2344 315.5781,222.5938 Q314.2656,220.9375 314.2656,217.8125 Q314.2656,214.6875 315.5781,213.0313 Q316.9063,211.375 319.4063,211.375 Q320.1094,211.375 320.75,211.5313 Q321.4063,211.6875 321.9688,211.9844 L321.9688,214.7031 Q321.3438,214.125 320.75,213.8594 Q320.1563,213.5781 319.5313,213.5781 Q318.1875,213.5781 317.5,214.6563 Q316.8125,215.7188 316.8125,217.8125 Q316.8125,219.9063 317.5,220.9844 Q318.1875,222.0469 319.5313,222.0469 Q320.1563,222.0469 320.75,221.7813 Q321.3438,221.5 321.9688,220.9219 L321.9688,223.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="140" x="333" y="222.1543">OrderBook(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="305" x2="475" y1="234" y2="234"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312" y="242"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="324" y="248.2104">support_bids_index</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312" y="254.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="108" x="324" y="261.0151">oppose_bids_index</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312" y="267.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="324" y="273.8198">support_asks_index</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312" y="280.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="324" y="286.6245">oppose_asks_index</text><line style="stroke:#A80036;stroke-width:1.5;" x1="305" x2="475" y1="293.2188" y2="293.2188"/><ellipse cx="315" cy="304.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="324" y="307.4292">... () (future methods)</text><!--MD5=[c714d04275768bb04f95761cf1e37729]
class Ledger(Persistent)--><rect codeLine="175" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="112.0234" id="Ledger(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="149" x="100.5" y="202"/><ellipse cx="115.5" cy="218" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M118.4688,223.6406 Q117.8906,223.9375 117.25,224.0781 Q116.6094,224.2344 115.9063,224.2344 Q113.4063,224.2344 112.0781,222.5938 Q110.7656,220.9375 110.7656,217.8125 Q110.7656,214.6875 112.0781,213.0313 Q113.4063,211.375 115.9063,211.375 Q116.6094,211.375 117.25,211.5313 Q117.9063,211.6875 118.4688,211.9844 L118.4688,214.7031 Q117.8438,214.125 117.25,213.8594 Q116.6563,213.5781 116.0313,213.5781 Q114.6875,213.5781 114,214.6563 Q113.3125,215.7188 113.3125,217.8125 Q113.3125,219.9063 114,220.9844 Q114.6875,222.0469 116.0313,222.0469 Q116.6563,222.0469 117.25,221.7813 Q117.8438,221.5 118.4688,220.9219 L118.4688,223.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="129.5" y="222.1543">Ledger(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="101.5" x2="248.5" y1="234" y2="234"/><ellipse cx="111.5" cy="245" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="120.5" y="248.2104">index: OOBTree</text><line style="stroke:#A80036;stroke-width:1.0;" x1="101.5" x2="248.5" y1="254.8047" y2="254.8047"/><line style="stroke:#A80036;stroke-width:1.0;" x1="101.5" x2="248.5" y1="256.8047" y2="256.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="106.5" y="269.0151">I think there should</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="106.5" y="281.8198">be only one Ledger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="108" x="106.5" y="294.6245">object (not one per</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="106.5" y="307.4292">exchange)</text><!--MD5=[ba21a8682942ebb2572c97f70a557358]
class BettingContract(Persistent)--><rect codeLine="184" fill="#FEFECE" filter="url(#f13tfovk2d0xvb)" height="112.0234" id="BettingContract(Persistent)" style="stroke:#A80036;stroke-width:1.5;" width="205" x="31.5" y="544.5"/><ellipse cx="46.5" cy="560.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M49.4688,566.1406 Q48.8906,566.4375 48.25,566.5781 Q47.6094,566.7344 46.9063,566.7344 Q44.4063,566.7344 43.0781,565.0938 Q41.7656,563.4375 41.7656,560.3125 Q41.7656,557.1875 43.0781,555.5313 Q44.4063,553.875 46.9063,553.875 Q47.6094,553.875 48.25,554.0313 Q48.9063,554.1875 49.4688,554.4844 L49.4688,557.2031 Q48.8438,556.625 48.25,556.3594 Q47.6563,556.0781 47.0313,556.0781 Q45.6875,556.0781 45,557.1563 Q44.3125,558.2188 44.3125,560.3125 Q44.3125,562.4063 45,563.4844 Q45.6875,564.5469 47.0313,564.5469 Q47.6563,564.5469 48.25,564.2813 Q48.8438,564 49.4688,563.4219 L49.4688,566.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="60.5" y="564.6543">BettingContract(Persistent)</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="235.5" y1="576.5" y2="576.5"/><ellipse cx="42.5" cy="587.5" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="51.5" y="590.7104">user1_anonid: bytes</text><ellipse cx="42.5" cy="600.3047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="51.5" y="603.5151">user2_anonid: bytes</text><ellipse cx="42.5" cy="613.1094" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="51.5" y="616.3198">purchase_price: float</text><ellipse cx="42.5" cy="625.9141" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="51.5" y="629.1245">position_locator</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="12" x="51.5" y="641.9292">...</text><line style="stroke:#A80036;stroke-width:1.5;" x1="32.5" x2="235.5" y1="648.5234" y2="648.5234"/><!--MD5=[bc480d48e87de34cea09ce13faf04adb]
reverse link ServerControl to AllsemblyServer--><path codeLine="29" d="M448.075,1276.977 C453.036,1300.306 458.84,1327.595 464.429,1353.872 " fill="none" id="ServerControl-backto-AllsemblyServer" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#FFFFFF" points="445.336,1264.098,442.6716,1270.7988,447.8322,1275.8355,450.4966,1269.1347,445.336,1264.098" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[514039cbd977717baaafb34fe2e20814]
reverse link ArgumentGraph(Persistent) to Issues(Persistent)--><path codeLine="120" d="M719,823.303 C719,869.803 719,913.54 719,942.748 " fill="none" id="ArgumentGraph(Persistent)-backto-Issues(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="719,810.124,715,816.124,719,822.124,723,816.124,719,810.124" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="695.5508" y="830.6683">1..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="710.2875" y="931.8901">1</text><!--MD5=[fa60c398c69fdca7e40270be3e854247]
reverse link PositionNode(Persistent) to ArgumentGraph(Persistent)--><path codeLine="121" d="M841.735,307.25 C832.049,330.32 819.722,359.67 806.633,390.84 " fill="none" id="PositionNode(Persistent)-backto-ArgumentGraph(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="846.832,295.12,840.8222,299.1053,842.1895,306.1856,848.1993,302.2003,846.832,295.12" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="819.4151" y="314.6204">0..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="801.6386" y="380.0991">1</text><!--MD5=[ae2ad65c71f6ebd7bd4f0802bd7032e5]
reverse link ArgumentNode(Persistent) to ArgumentGraph(Persistent)--><path codeLine="122" d="M644.493,307.9 C650.361,330.86 657.796,359.96 665.685,390.84 " fill="none" id="ArgumentNode(Persistent)-backto-ArgumentGraph(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="641.228,295.12,638.8358,301.9227,644.1952,306.7474,646.5874,299.9446,641.228,295.12" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="617.8517" y="314.6204">0..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="655.6252" y="380.0991">1</text><!--MD5=[a79773ee08fd7f385c8252ea459f09fb]
reverse link Issues(Persistent) to AllsemblyServer--><path codeLine="124" d="M662.809,1025.812 C637.713,1048.407 609.655,1077.647 591,1109 C545.99,1184.648 519.242,1281.179 504.17,1353.856 " fill="none" id="Issues(Persistent)-backto-AllsemblyServer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="672.618,1017.176,665.4715,1018.139,663.6118,1025.1062,670.7583,1024.1432,672.618,1017.176" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="592" y="1219.0669">create</text><!--MD5=[08a87913b13f6985c58122afb7333e36]
reverse link IssueQueue to AllsemblyServer--><path codeLine="125" d="M669.897,1267.248 C645.934,1292.502 616.185,1323.855 587.69,1353.885 " fill="none" id="IssueQueue-backto-AllsemblyServer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="679.118,1257.531,672.0864,1259.1299,670.8578,1266.2356,677.8894,1264.6367,679.118,1257.531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="632" y="1320.0669">create</text><!--MD5=[0b03049b679a9a9fb4436e1a44bf80e0]
reverse link Issues(Persistent) to IssueQueue--><path codeLine="126" d="M719,1030.285 C719,1072.196 719,1131.729 719,1171.433 " fill="none" id="Issues(Persistent)-backto-IssueQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="719,1017.073,715,1023.073,719,1029.073,723,1023.073,719,1017.073" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[14862b5907907cbdca977c8d17e54c33]
reverse link Issues(Persistent) to GraphRequest--><path codeLine="129" d="M751.614,1027.807 C782.351,1071.92 827.762,1137.094 855.806,1177.342 " fill="none" id="Issues(Persistent)-backto-GraphRequest" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="744.135,1017.073,744.2831,1024.2826,750.9951,1026.9188,750.847,1019.7092,744.135,1017.073" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a7ec71d4e795dfc5389ebaef5a29474f]
reverse link GraphRequest to AllsemblyServices--><path codeLine="132" d="M928.606,1260.615 C965.594,1295.667 1017.68,1345.024 1060.77,1385.859 " fill="none" id="GraphRequest-backto-AllsemblyServices" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="919.069,1251.577,920.6728,1258.6075,927.7793,1259.8311,926.1755,1252.8006,919.069,1251.577" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8ce2c6fb08030a5cad52e3e84e233664]
reverse link LedgerRequest to AllsemblyServices--><path codeLine="133" d="M1346.99,1254.944 C1311.23,1290.204 1257.87,1342.807 1214.15,1385.906 " fill="none" id="LedgerRequest-backto-AllsemblyServices" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1356.59,1245.48,1349.5092,1246.8447,1348.0456,1253.9057,1355.1264,1252.541,1356.59,1245.48" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[daa1969c8d053a8f11ee487374618c63]
link UserServices to AllsemblyServices--><path codeLine="135" d="M1139,1292.35 C1139,1317.138 1139,1344.83 1139,1370.453 " fill="none" id="UserServices-AllsemblyServices" style="stroke:#A80036;stroke-width:1.0;"/><ellipse cx="1139" cy="1377.677" fill="#FFFFFF" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1139" x2="1139" y1="1369.677" y2="1385.677"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1147" x2="1131" y1="1377.677" y2="1377.677"/><polygon fill="#A80036" points="1139,1277.198,1135,1286.198,1139,1282.198,1143,1286.198,1139,1277.198" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1139" x2="1139" y1="1282.198" y2="1292.198"/><!--MD5=[b260ac33f56b491b7ca48171b65e93c1]
link ArgumentGraph(Persistent) to ProblogModel(Persistent)--><path codeLine="193" d="M859.111,734.062 C910.895,783.054 968.552,837.605 1016.29,882.767 " fill="none" id="ArgumentGraph(Persistent)-to-ProblogModel(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1026,891.962,1024.3936,884.9321,1017.2866,883.7112,1018.893,890.7411,1026,891.962" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4a1121c0e8e88b35d3ce8ea98009d09e]
reverse link BettingMarket(Persistent) to BettingExchange(Persistent)--><path codeLine="194" d="M373.477,650.903 C372.605,733.187 370.888,895.225 370.248,955.599 " fill="none" id="BettingMarket(Persistent)-backto-BettingExchange(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="373.616,637.696,369.5523,643.653,373.4881,649.6953,377.5518,643.7383,373.616,637.696" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="348.6477" y="657.209">1..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="361.3334" y="944.9062">1</text><!--MD5=[cdb3a95bc9a0231c8b51eef72175e261]
reverse link OrderBook(Persistent) to BettingMarket(Persistent)--><path codeLine="195" d="M452.839,325.82 C457.726,336.94 460.081,348.83 458,361 C445.276,435.43 411.731,517.51 391.087,563.36 " fill="none" id="OrderBook(Persistent)-backto-BettingMarket(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="446.633,314.09,445.9062,321.2644,452.2491,324.6947,452.9759,317.5203,446.633,314.09" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d9da72398c94f95b9daad216cecb2e44]
reverse link IndependentBid(orAsk) to OrderBook(Persistent)--><path codeLine="197" d="M304.315,110.09 C291.647,121.27 284.659,134.92 291,151 C298.344,169.62 310.674,186.9 324.186,201.88 " fill="none" id="IndependentBid(orAsk)-backto-OrderBook(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="314.984,102.02,307.7856,102.4485,305.4126,109.2579,312.6109,108.8294,314.984,102.02" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="292" y="147.0669">support_bids (or _asks)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="274.3463" y="121.9624">0..*</text><!--MD5=[d9da72398c94f95b9daad216cecb2e44]
reverse link IndependentBid(orAsk) to OrderBook(Persistent)--><path codeLine="198" d="M433.264,112.17 C438.45,118.92 442.966,126.26 446,134 C454.823,156.5 447.481,180.8 435.553,201.82 " fill="none" id="IndependentBid(orAsk)-backto-OrderBook(Persistent)-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="424.68,102.1,425.5259,109.2613,432.4617,111.2349,431.6158,104.0736,424.68,102.1" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="451" y="147.0669">oppose_bids (or _asks)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="406.6671" y="122.0589">0..*</text><!--MD5=[bf745e43b4d4f2c825d77cc90e175de0]
link Ledger(Persistent) to BettingContract(Persistent)--><path codeLine="200" d="M148.058,314.25 C144.355,323.96 141.106,334.13 139,344 C125.679,406.47 125.76,479.48 128.381,531.42 " fill="none" id="Ledger(Persistent)-to-BettingContract(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="129.116,544.49,132.7735,538.2753,128.4435,532.5089,124.786,538.7236,129.116,544.49" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="120.3729" y="334.0931">0..*</text><!--MD5=[89010e35e3ef96c66a7132f4312e8682]
reverse link Ledger(Persistent) to BettingMarket(Persistent)--><path codeLine="201" d="M161.359,327.3 C162.081,339.33 165.106,351.14 172,361 C194.232,392.81 224.31,366.01 254,391 C309.599,437.8 345.055,517.3 362.065,563.43 " fill="none" id="Ledger(Persistent)-backto-BettingMarket(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="161.404,314.24,157.3842,320.2268,161.3644,326.2399,165.3842,320.2532,161.404,314.24" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="173" y="357.0669">support_ledger_ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="151.2595" y="334.0819">1</text><!--MD5=[89010e35e3ef96c66a7132f4312e8682]
reverse link Ledger(Persistent) to BettingMarket(Persistent)--><path codeLine="202" d="M260.475,306.59 C274.521,317.42 287.797,329.94 298,344 C346.915,411.43 364.617,510.35 370.816,563.14 " fill="none" id="Ledger(Persistent)-backto-BettingMarket(Persistent)-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="249.623,298.65,252.1006,305.4221,259.3047,305.7398,256.8271,298.9677,249.623,298.65" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="308" y="357.0669">oppose_ledger_ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="257.731" y="299.1411">1</text><!--MD5=[35bf3b28645e1340655272a9502fd3c5]
link ArgumentGraph(Persistent) to BettingExchange(Persistent)--><path codeLine="204" d="M578.808,753.14 C512.836,824.5 440.053,903.227 400.214,946.319 " fill="none" id="ArgumentGraph(Persistent)-to-BettingExchange(Persistent)" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="391.288,955.974,398.2983,954.284,399.4345,947.1629,392.4242,948.853,391.288,955.974" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="707.5" y="1602.9951">Figure 1</text><!--MD5=[9c483fb6af91d75ca23c31a5017aaee5]
@startuml
page 1x2
caption Figure 1

package allsembly.py {
class AllsemblyServer {
-userauth_dbfilename: str
-user_dbfilename: str
-arg_dbfilename: str
-order_queue: deque[Tuple]
-graph_arg_queue: deque[Tuple]
-graph_pos_queue: deque[Tuple]
+process_all_issues_from_queue()
+process_all_orders_from_queue()
+process_all_positions_from_queue()
+process_all_items_from_all_queues()
+process_all_items_of_one_request()
+cleanup()
+server_main_loop()
}

class ServerControl {
- _should_exit: int
+ should_exit()
+ set_should_exit()
+ reset_should_exit()
}
}

ServerControl o.. AllsemblyServer


package rpyc_server.py {
class IssueQueue {
- queue: deque
+ add_issue()
+ delete_issue()
}

class GraphRequest {
+ draw()
+ get_position_details()
}

class LedgerRequest {
{field} (unused)
}


class "AllsemblyServices(rpyc.Service)" as AllsemblyServices {
- order_queue: deque[Tuple]
- graph_arg_queue: deque[Tuple]
- graph_pos_queue: deque[Tuple]
+ on_connect()
+ on_disconnect()
+ exposed_get_user_services()
+ exposed_authenticate_user()
- _add_issue()
}

class UserServices {
+ check_commitments_for_consistency() (unused)
+ delete_issue()
+ argue()
+ propose()
+ get_arg_graph()
+ get_position_details()
}
}

package argument_graph.py {
class Issues(Persistent) {
+ graphs: OOBTree
+ next_issue_id: AtomicLong
}

class ArgumentGraph(Persistent) {
- {static} _v_my_rwlock: RWLockWrite
- _v_my_wlock
- _v_my_rlock
+ issue_name: str
- arg_node_index: PersistentMapping
- pos_node_index: PersistentMapping
- next_arg_id: AtomicLong
- next_pos_id: AtomicLong
- read_buffer_index: int
- write_buffer_index: int
- /_v_gv_graph: AGraph
- /my_problog_prog: str
- /_v_my_g_svg: list[str]
- _add_position_to_gv_graph()
- _add_argument_to_gv_graph()
- _update_gv_graph_nodes()
- _build_initial_gv_graph()
- _add_clause_to_problog_program()
- _add_virtual_evidence_to_problog_program()
- _add_term_and_query_to_problog_program()
- _build_problog_program()
- _problog_calculate()
+ get_problog_program_string()
+ add_argument()
+ get_position_copy()
+ add_position()
+ hide_arguement() (unused)
- _prepare_graph()
+ draw_graph()
}


class PositionNode(Persistent) {
{field} ... (dataclass)
{static} build_PositionNode()
}

class ArgumentNode(Persistent) {
{field} ... (dataclass)
{static} build_ArgumentNode()
}
}

"ArgumentGraph(Persistent)" "1..*" *- - "1" "Issues(Persistent)"
"PositionNode(Persistent)" "0..*" *- - "1" "ArgumentGraph(Persistent)"
"ArgumentNode(Persistent)" "0..*" *- - "1" "ArgumentGraph(Persistent)"

"Issues(Persistent)" *- - AllsemblyServer: <<create>>
IssueQueue *- - AllsemblyServer: <<create>>
"Issues(Persistent)" o- - IssueQueue


"Issues(Persistent)" o- - GraphRequest


GraphRequest o- - AllsemblyServices
LedgerRequest o- - AllsemblyServices

UserServices <- -+ AllsemblyServices

package prob_logic.py {
class ProblogModel(Persistent) {
- {static} _v_my_rwlock: RWLockWrite
- _v_my_wlock
- _v_my_rlock
- _read_buffer_index: int
- _write_buffer_index: int
- _problog_queuy_results
- __setstate__()
+ calculate_marginals()
+ add_terms() (unused)
+ update_term_weights() (unused)
}
}

package speech_act.py {
class IndependentBid(orAsk) {
{field} ... (future fields)
}
}

package betting_exchange.py {
class BettingExchange(Persistent) {
}

class BettingMarket(Persistent) {
+ last_support_price: float
+ {field} market_id: int (same as arg_id)
}

class OrderBook(Persistent) {
- support_bids_index
- oppose_bids_index
- support_asks_index
- oppose_asks_index
+ ... () (future methods)
}

class Ledger(Persistent) {
+ index: OOBTree
==
I think there should
be only one Ledger
object (not one per
exchange)
}

class BettingContract(Persistent) {
+ {field} user1_anonid: bytes
+ {field} user2_anonid: bytes
+ purchase_price: float
+ position_locator
...
}
}

"ArgumentGraph(Persistent)" - -* "ProblogModel(Persistent)"
"BettingMarket(Persistent)" "1..*" *- - "1" "BettingExchange(Persistent)"
"OrderBook(Persistent)" *- - "BettingMarket(Persistent)"

"IndependentBid(orAsk)" "0..*" *- - "OrderBook(Persistent)": support_bids (or _asks)
"IndependentBid(orAsk)" "0..*" *- - "OrderBook(Persistent)": oppose_bids (or _asks)

"Ledger(Persistent)" "0..*" - -* "BettingContract(Persistent)"
"Ledger(Persistent)" "1" o- - "BettingMarket(Persistent)": support_ledger_ref
"Ledger(Persistent)" "1" o- - "BettingMarket(Persistent)": oppose_ledger_ref

"ArgumentGraph(Persistent)" - -* "BettingExchange(Persistent)"
@enduml

PlantUML version 1.2021.5(Sun Apr 25 11:20:28 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>