<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="558px" preserveAspectRatio="none" style="width:735px;height:558px;" version="1.1" viewBox="0 0 735 558" width="735px" zoomAndPan="magnify"><defs><filter height="300%" id="fmbcmqea7ljuj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="337.75" y="550.0576">Figure 2</text><rect fill="#FFFFFF" filter="url(#fmbcmqea7ljuj)" height="369.2031" style="stroke:#000000;stroke-width:2.0;" width="711.5" x="10" y="115.5625"/><rect fill="#FFFFFF" filter="url(#fmbcmqea7ljuj)" height="148.4688" style="stroke:#000000;stroke-width:2.0;" width="691.5" x="20" y="256.2266"/><rect fill="#FFFFFF" height="73.0703" style="stroke:none;stroke-width:1.0;" width="691.5" x="20" y="331.625"/><rect fill="#FFFFFF" height="73.0703" style="stroke:none;stroke-width:1.0;" width="711.5" x="10" y="411.6953"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="75" x2="75" y1="40.2969" y2="501.7656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="338" x2="338" y1="40.2969" y2="501.7656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="631.5" x2="631.5" y1="40.2969" y2="501.7656"/><rect fill="#FEFECE" filter="url(#fmbcmqea7ljuj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="37" y="24.9951">UserAgent</text><rect fill="#FEFECE" filter="url(#fmbcmqea7ljuj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="30" y="500.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="37" y="520.7607">UserAgent</text><rect fill="#FEFECE" filter="url(#fmbcmqea7ljuj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="77" x="298" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="305" y="24.9951">(Fast)CGI</text><rect fill="#FEFECE" filter="url(#fmbcmqea7ljuj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="77" x="298" y="500.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="305" y="520.7607">(Fast)CGI</text><rect fill="#FEFECE" filter="url(#fmbcmqea7ljuj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="136" x="561.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="568.5" y="24.9951">AllsemblyServices</text><rect fill="#FEFECE" filter="url(#fmbcmqea7ljuj)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="136" x="561.5" y="500.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="568.5" y="520.7607">AllsemblyServices</text><polygon fill="#A80036" points="326.5,67.4297,336.5,71.4297,326.5,75.4297,330.5,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="75.5" x2="332.5" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="82.5" y="66.3638">Authentication request</text><polygon fill="#A80036" points="619.5,96.5625,629.5,100.5625,619.5,104.5625,623.5,100.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="625.5" y1="100.5625" y2="100.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="345.5" y="95.4966">Process auth request</text><path d="M10,115.5625 L74,115.5625 L74,122.5625 L64,132.5625 L10,132.5625 L10,115.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="369.2031" style="stroke:#000000;stroke-width:2.0;" width="711.5" x="10" y="115.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="128.6294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="169" x="89" y="127.7729">[sucessful authentication]</text><polygon fill="#A80036" points="349.5,149.8281,339.5,153.8281,349.5,157.8281,345.5,153.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="630.5" y1="153.8281" y2="153.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="355.5" y="148.7622">encrypted cookie</text><polygon fill="#A80036" points="86.5,178.9609,76.5,182.9609,86.5,186.9609,82.5,182.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80.5" x2="337.5" y1="182.9609" y2="182.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="92.5" y="177.895">set cookie</text><polygon fill="#A80036" points="326.5,208.0938,336.5,212.0938,326.5,216.0938,330.5,212.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="75.5" x2="332.5" y1="212.0938" y2="212.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="82.5" y="207.0278">service request with cookie(s)</text><polygon fill="#A80036" points="619.5,237.2266,629.5,241.2266,619.5,245.2266,623.5,241.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="625.5" y1="241.2266" y2="241.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="345.5" y="236.1606">service request with encrypted credentials</text><path d="M20,256.2266 L84,256.2266 L84,263.2266 L74,273.2266 L20,273.2266 L20,256.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="148.4688" style="stroke:#000000;stroke-width:2.0;" width="691.5" x="20" y="256.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="269.2935">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="215" x="99" y="268.437">[encrypted credentials authentic]</text><polygon fill="#A80036" points="349.5,290.4922,339.5,294.4922,349.5,298.4922,345.5,294.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="630.5" y1="294.4922" y2="294.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="355.5" y="289.4263">request result</text><polygon fill="#A80036" points="86.5,319.625,76.5,323.625,86.5,327.625,82.5,323.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80.5" x2="337.5" y1="323.625" y2="323.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="92.5" y="318.5591">request result</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="711.5" y1="332.625" y2="332.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="172" x="25" y="342.8354">[credentials not authentic]</text><polygon fill="#A80036" points="349.5,363.5625,339.5,367.5625,349.5,371.5625,345.5,367.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="630.5" y1="367.5625" y2="367.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="355.5" y="362.4966">error NotAuthenticated</text><polygon fill="#A80036" points="86.5,392.6953,76.5,396.6953,86.5,400.6953,82.5,396.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80.5" x2="337.5" y1="396.6953" y2="396.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="92.5" y="391.6294">display login page (or status 401)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="721.5" y1="412.6953" y2="412.6953"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="145" x="15" y="422.9058">[authentication failed]</text><polygon fill="#A80036" points="349.5,443.6328,339.5,447.6328,349.5,451.6328,345.5,447.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="630.5" y1="447.6328" y2="447.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="355.5" y="442.5669">error NotAuthenticated</text><polygon fill="#A80036" points="86.5,472.7656,76.5,476.7656,86.5,480.7656,82.5,476.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80.5" x2="337.5" y1="476.7656" y2="476.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="92.5" y="471.6997">display error message and allow retry</text><!--MD5=[ac76ac79b9c7ab413fae5b38e046672d]
@startuml
caption Figure 2
UserAgent -> "(Fast)CGI": Authentication request
"(Fast)CGI" -> AllsemblyServices: Process auth request

alt sucessful authentication

    AllsemblyServices -> "(Fast)CGI": encrypted cookie
    "(Fast)CGI" -> UserAgent: set cookie
    UserAgent -> "(Fast)CGI": service request with cookie(s)
    "(Fast)CGI" -> AllsemblyServices: service request with encrypted credentials
    alt encrypted credentials authentic
        AllsemblyServices -> "(Fast)CGI": request result
        "(Fast)CGI" -> UserAgent: request result
    else credentials not authentic
        AllsemblyServices -> "(Fast)CGI": error NotAuthenticated
        "(Fast)CGI" -> UserAgent: display login page (or status 401)
    end

else authentication failed
    AllsemblyServices -> "(Fast)CGI": error NotAuthenticated
    "(Fast)CGI" -> UserAgent: display error message and allow retry

end
@enduml

PlantUML version 1.2021.5(Sun Apr 25 11:20:28 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>